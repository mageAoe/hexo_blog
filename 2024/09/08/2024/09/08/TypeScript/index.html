<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>TypeScript |  个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/hexo_blog/dist/main.css">

      
<link rel="stylesheet" href="/hexo_blog/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/hexo_blog/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-2024/09/08/TypeScript"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  TypeScript
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/hexo_blog/2024/09/08/2024/09/08/TypeScript/" class="article-date">
  <time datetime="2024-09-07T16:00:00.000Z" itemprop="datePublished">2024-09-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/hexo_blog/categories/JavaScript/">JavaScript</a> / <a class="article-category-link" href="/hexo_blog/categories/JavaScript/TypeScript/">TypeScript</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">21.2k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">93 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <p>TypeScript</p>
<span id="more"></span>
<h2 id="TypeScript课程内容介绍"><a href="#TypeScript课程内容介绍" class="headerlink" title="TypeScript课程内容介绍"></a>TypeScript课程内容介绍</h2><ul>
<li>TS介绍</li>
<li>TS环境安装与初体验</li>
<li>TS数据类型</li>
<li>TS中的接口</li>
<li>TS中的函数</li>
<li>TS中的类</li>
<li>TS中的泛型</li>
<li>TS其他补充</li>
<li>TS兼容性</li>
<li>TS中的装饰器</li>
<li>TS中的Mixins</li>
<li>TS模块</li>
<li>TS命名空间</li>
<li>TS中的配置及环境搭建</li>
<li>TS案例</li>
</ul>
<h2 id="第一章-TypeScript介绍"><a href="#第一章-TypeScript介绍" class="headerlink" title="第一章 TypeScript介绍"></a>第一章 TypeScript介绍</h2><h4 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h4><ul>
<li>TS是是由微软2012年开发的一款开源的编程语言</li>
<li>TypeScript 是 Javascript 的超集，遵循最新的 ES6、Es5 规范。TypeScript 扩展了 JavaScript<br>的语法</li>
<li>在js的基础上，为js添加了<strong>类型支持</strong></li>
</ul>
<h4 id="2-设计目标"><a href="#2-设计目标" class="headerlink" title="2.设计目标"></a>2.设计目标</h4><ul>
<li>遵循当前以及未来出现的ECMAScript规范</li>
<li>开发大型应用，可以编译程纯JavaScript,编译出来的JavaScript可以运行在浏览器上</li>
<li>成为跨平台的开发工具，TypeScript使用Apache作为开源协议，且能够再所有主流的操作系统上安装和执行</li>
</ul>
<h4 id="3-TS优势"><a href="#3-TS优势" class="headerlink" title="3.TS优势"></a>3.TS优势</h4><ul>
<li>更早的发现错误</li>
<li>任何位置都有<strong>代码提示</strong>，增加开发效率</li>
<li>类型系统提升了代码的可维护性，重构更容易</li>
<li>使用最新的ECMAScript语法，最新</li>
<li>ts类型推断机制，降低成本</li>
</ul>
<h4 id="4-TS劣势"><a href="#4-TS劣势" class="headerlink" title="4.TS劣势"></a>4.TS劣势</h4><ul>
<li>短期投入到工作可能增加开发成本</li>
<li>和有些库的结合不是很完美</li>
<li>学习需要成本，需要理解接口，泛型，类型等知识</li>
<li>集成到自动构建流程中需要额外的工作量</li>
</ul>
<h4 id="5-TS与JS的区别"><a href="#5-TS与JS的区别" class="headerlink" title="5.TS与JS的区别"></a>5.TS与JS的区别</h4><p><img src="C:\Users\11\AppData\Roaming\Typora\typora-user-images\1657037907209.png" alt="1657037907209"></p>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>TypeScript</th>
</tr>
</thead>
<tbody><tr>
<td>动态语言</td>
<td>具有静态语言的特点</td>
</tr>
<tr>
<td>编译性语言运行时报错</td>
<td>编译期间报错</td>
</tr>
<tr>
<td>弱类型语言，没有类型</td>
<td>强类型语言，类似java, C++等，定义时指明类型</td>
</tr>
<tr>
<td>不支持模块、接口、泛型</td>
<td>支持模块、接口、泛型</td>
</tr>
<tr>
<td>基本数据类型和引用数据类型</td>
<td>更多的基本数据类型和引用数据类型，如any, never, enum等</td>
</tr>
<tr>
<td>在浏览器中直接执行</td>
<td>编译为js后才能在浏览器进行执行</td>
</tr>
</tbody></table>
<h2 id="第二章-TS环境安装与初体验"><a href="#第二章-TS环境安装与初体验" class="headerlink" title="第二章 TS环境安装与初体验"></a>第二章 TS环境安装与初体验</h2><h4 id="1-安装与运行"><a href="#1-安装与运行" class="headerlink" title="1.安装与运行"></a>1.安装与运行</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br><span class="line">或者</span><br><span class="line">cnpm install -g typescript</span><br><span class="line">或者</span><br><span class="line">yarn <span class="variable language_">global</span> add typescript</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tsc 文件名称.<span class="property">ts</span></span><br><span class="line"></span><br><span class="line">tsc --watch  </span><br></pre></td></tr></table></figure>

<h4 id="2-js缺陷的演示"><a href="#2-js缺陷的演示" class="headerlink" title="2.js缺陷的演示"></a>2.js缺陷的演示</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  1.没有对类型进行检测</span></span><br><span class="line"><span class="comment">  2.没有对是否传参进行检测</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(msg.<span class="property">length</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&quot;邱淑贞&quot;</span>) <span class="comment">// 可以正常使用</span></span><br><span class="line"><span class="title function_">test</span>(<span class="number">666</span>) <span class="comment">// undefine</span></span><br><span class="line"><span class="title function_">test</span>() <span class="comment">// error</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;往后余生,风雪是你, 平淡是你,敲每一行代码想的都是你。&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你是CSS,我是DIV,就算我的布局再好,没了你也就没了色彩。&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>采用TS书写同样的代码，我们可以看到，编译器非常友好的对我们进行了提示</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(msg.<span class="property">length</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&quot;邱淑贞&quot;</span>) <span class="comment">// 可以正常使用</span></span><br><span class="line"><span class="title function_">test</span>(<span class="number">666</span>) <span class="comment">// undefine</span></span><br><span class="line"><span class="title function_">test</span>() <span class="comment">// error</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;往后余生,风雪是你, 平淡是你,敲每一行代码想的都是你。&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你是CSS,我是DIV,就算我的布局再好,没了你也就没了色彩。&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\11\AppData\Roaming\Typora\typora-user-images\1657039512822.png" alt="1657039512822"></p>
<h2 id="第三章-TS中的数据类型"><a href="#第三章-TS中的数据类型" class="headerlink" title="第三章 TS中的数据类型"></a>第三章 TS中的数据类型</h2><h4 id="1-基础数据类型"><a href="#1-基础数据类型" class="headerlink" title="1.基础数据类型"></a>1.基础数据类型</h4><ul>
<li><p>number类型： 双精度 64 位浮点值。它可以用来表示整数和分数。</p>
</li>
<li><p>boolean类型：表示逻辑值：true 和 false。</p>
</li>
<li><p>string类型：一个字符系列，使用单引号（**’<strong>）或双引号（</strong>“<strong>）来表示字符串类型。反引号（</strong>&#96;**）来定义多行文本和内嵌表达式</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数值类型 number</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">money</span>:<span class="built_in">number</span>; <span class="comment">// 定义了一个名称叫做money的变量, 这个变量中将来只能存储数值类型的数据</span></span><br><span class="line">money = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// money = &quot;200000&quot;; // 会报错</span></span><br><span class="line"><span class="comment">// 注意点: 其它的用法和JS一样</span></span><br><span class="line"><span class="comment">// money = 0x00;</span></span><br><span class="line"><span class="comment">// money = 0o00;</span></span><br><span class="line"><span class="comment">// money = 0b00;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(money); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 布尔类型 boolean</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">flag</span>:<span class="built_in">boolean</span>;</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// flag = 1; // 会报错  c语言</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串类型 string</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">beauty</span>:<span class="built_in">string</span>;</span><br><span class="line">beauty = <span class="string">&quot;李一桐&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> dream = <span class="string">`我的女神是<span class="subst">$&#123;beauty&#125;</span>,为了她，我想月入<span class="subst">$&#123;money&#125;</span>k`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dream); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 总结：</span></span><br><span class="line">数值，字符串和布尔值是我们开发中最常使用的基础数据类型，与js中的数值，字符串和布尔完全一致，</span><br><span class="line">在ts中我们主要做类型校验使用</span><br></pre></td></tr></table></figure>



<h4 id="2-数组"><a href="#2-数组" class="headerlink" title="2.数组"></a>2.数组</h4><blockquote>
<p>数组：声明变量的一组集合称之为数组。</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组类型</span></span><br><span class="line"><span class="comment">// 方式一</span></span><br><span class="line"><span class="comment">// 表示定义了一个名称叫做 beautyList 的数组, 这个数组中将来只能够存储字符串类型的数据</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">beautyList</span>:<span class="built_in">string</span>[]; </span><br><span class="line">beautyList = [<span class="string">&#x27;李嘉欣&#x27;</span>, <span class="string">&#x27;王祖贤&#x27;</span>, <span class="string">&#x27;邱淑贞&#x27;</span>];</span><br><span class="line"><span class="comment">// arr2 = [&#x27;李嘉欣&#x27;, &#x27;王祖贤&#x27;, &#x27;邱淑贞&#x27;, 200000]; // 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beautyList); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二</span></span><br><span class="line"><span class="comment">// 表示定义了一个名称叫做 moneyList 的数组, 这个数组中将来只能够存储数值类型的数据</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">moneyList</span>:<span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt;;  </span><br><span class="line">moneyList = [<span class="number">10</span>, <span class="number">30</span>, <span class="number">500</span>];</span><br><span class="line"><span class="comment">// moneyList = [&#x27;a&#x27;, 30, 500]; // 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(moneyList);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式三 联合类型</span></span><br><span class="line"><span class="comment">// 表示定义了一个名称叫做 dream 的数组, 这个数组中将来既可以存储数值类型的数据, 也可以存储字符串类型的数据</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">dream</span>:(<span class="built_in">number</span> | <span class="built_in">string</span>)[];</span><br><span class="line">dream = [<span class="number">10</span>, <span class="number">30</span>, <span class="number">500</span>, <span class="string">&quot;李一桐&quot;</span>, <span class="string">&quot;赵露思&quot;</span>, <span class="string">&quot;白鹿&quot;</span>];</span><br><span class="line"><span class="comment">// dream = [10, 30, 500, &quot;李一桐&quot;, &quot;赵露思&quot;, &quot;白鹿&quot;, false]; // 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dream);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式四 任意类型</span></span><br><span class="line"><span class="comment">// 表示定义了一个名称叫做 arbitrarily 的数组, 这个数组中将来可以存储任意类型的数据</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arbitrarily</span>:<span class="built_in">any</span>[]; </span><br><span class="line">arbitrarily = [<span class="number">100</span>, <span class="string">&#x27;关之琳&#x27;</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arbitrarily);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  数组是我们前端开发过程中，最常用的引用类型之一,在发送请求获取响应时，我们往往会使用到数组类型，</span></span><br><span class="line"><span class="comment">  因此我们务必要掌握好数组的几种定义方式</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-元组"><a href="#3-元组" class="headerlink" title="3.元组"></a>3.元组</h4><ul>
<li>元祖类型 Tuple</li>
<li>TS中的元祖类型其实就是数组类型的扩展</li>
<li>元组类型用来表示已知元素数量和类型的数组，各元素的类型不必相同，对应位置的类型需要相同</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 元祖类型 Tuple</span><br><span class="line">// TS中的元祖类型其实就是数组类型的扩展</span><br><span class="line">// 元组类型用来表示已知元素数量和类型的数组，各元素的类型不必相同，对应位置的类型需要相同</span><br><span class="line"></span><br><span class="line">// 表示定义了一个名称叫做 tup1 的元祖, 这个元祖中将来可以存储3个元素, </span><br><span class="line">// 第一个元素必须是字符串类型, 第二个元素必须是数字类型, 第三个元素必须是布尔类型</span><br><span class="line">let tup1:[string, number, boolean]; </span><br><span class="line">tup1 = [&#x27;宋祖儿&#x27;, 100, false];</span><br><span class="line">// tup1 = [&#x27;宋祖儿&#x27;, 100, true, 200]; // 超过指定的长度会报错</span><br><span class="line">// tup1 = [100,&quot;宋祖儿&quot;, true];</span><br><span class="line">// tup1 = [&#x27;杨超越&#x27;, 100, true];</span><br><span class="line">console.log(tup1); </span><br><span class="line"></span><br><span class="line">/* </span><br><span class="line">  总结:</span><br><span class="line">  定义: [&#x27;&#x27;, &#x27;&#x27;, ...]</span><br><span class="line">  作用:元祖用于保存定长定数据类型的数据</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<h4 id="4-any与void"><a href="#4-any与void" class="headerlink" title="4.any与void"></a>4.any与void</h4><ul>
<li><p>any:  表示任意类型, 当我们不清楚某个值的具体类型的时候我们就可以使用any</p>
</li>
<li><p>void:  当一个函数没有返回值时，你通常会见到其返回值类型是 void</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// any类型</span></span><br><span class="line"><span class="comment">// any表示任意类型, 当我们不清楚某个值的具体类型的时候我们就可以使用any</span></span><br><span class="line"><span class="comment">// 在TS中任何数据类型的值都可以负责给any类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用场景一</span></span><br><span class="line"><span class="comment">// 变量的值会动态改变时，比如来自用户的输入，任意值类型可以让这些变量跳过编译阶段的类型检查</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">salary</span>: <span class="built_in">any</span> = <span class="number">1800</span>;    <span class="comment">// 数字类型</span></span><br><span class="line">salary = <span class="string">&#x27;my salary is 18k&#x27;</span>;    <span class="comment">// 字符串类型</span></span><br><span class="line">salary = <span class="literal">false</span>;    <span class="comment">// 布尔类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用场景二</span></span><br><span class="line"><span class="comment">// 改写现有代码时，任意值允许在编译时可选择地包含或移除类型检查</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">any</span> = <span class="number">4</span>;</span><br><span class="line">x.<span class="title function_">ifItExists</span>();    <span class="comment">// 正确，ifItExists方法在运行时可能存在，但这里并不会检查</span></span><br><span class="line">x.<span class="title function_">toFixed</span>();    <span class="comment">// 正确 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用场景三</span></span><br><span class="line"><span class="comment">// 定义存储各种类型数据的数组时</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">beautyList</span>: <span class="built_in">any</span>[] = [<span class="number">1</span>, <span class="literal">false</span>, <span class="string">&#x27;fine&#x27;</span>];</span><br><span class="line">beautyList[<span class="number">1</span>] = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// void类型</span></span><br><span class="line"><span class="comment">// 某种程度上来说，void类型像是与any类型相反，它表示没有任何类型。 </span></span><br><span class="line"><span class="comment">// 当一个函数没有返回值时，你通常会见到其返回值类型是 void</span></span><br><span class="line"><span class="comment">// 在TS中只有null和undefined可以赋值给void类型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeMoney</span>(<span class="params"></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I want to make much money and marry a wife!!!&quot;</span>);</span><br><span class="line">  <span class="comment">// return &quot;100K beauty&quot; // 报错</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">makeMoney</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">value</span>:<span class="built_in">void</span>; </span><br><span class="line"><span class="comment">// 定义了一个不可以保存任意类型数据的变量, 只能保存null和undefined</span></span><br><span class="line"><span class="comment">// value = 100; // 报错</span></span><br><span class="line"><span class="comment">// value = &quot;杨紫&quot;;// 报错</span></span><br><span class="line"><span class="comment">// value = true;// 报错</span></span><br><span class="line"><span class="comment">// 注意点: null和undefined是所有类型的子类型, 所以我们可以将null和undefined赋值给任意类型</span></span><br><span class="line"><span class="comment">// 严格模式下会null报错</span></span><br><span class="line"><span class="comment">// value = null; // 不会报错  </span></span><br><span class="line">value = <span class="literal">undefined</span>;<span class="comment">// 不会报错</span></span><br></pre></td></tr></table></figure>



<h4 id="5-null与undefined"><a href="#5-null与undefined" class="headerlink" title="5.null与undefined"></a>5.null与undefined</h4><ul>
<li>TypeScript里，<code>undefined</code>和<code>null</code>两者各自有自己的类型分别叫做<code>undefined</code>和<code>null</code>。 和 <code>void</code>相似，它们的本身的类型用处不是很大</li>
<li>非严格模式下，可以把 null和undefined赋值给number类型的变量。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TypeScript里，undefined和null两者各自有自己的类型分别叫做undefined和null。 </span></span><br><span class="line"><span class="comment">// 和 void相似，它们的本身的类型用处不是很大</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">y</span>: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">money</span>:<span class="built_in">number</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 非严格模式下，可以把 null和undefined赋值给number类型的变量。</span></span><br><span class="line">money = y;</span><br><span class="line">money = x;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-never与object"><a href="#6-never与object" class="headerlink" title="6.never与object"></a>6.never与object</h4><blockquote>
<p><strong>never类型</strong>: </p>
<p>表示的是那些永不存在的值的类型;</p>
<p>never类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型; </p>
<p>变量也可能是 never类型，当它们被永不为真的类型保护所约束</p>
</blockquote>
<blockquote>
<p><strong>object类型</strong>：</p>
<p><code>object</code>表示非原始类型，也就是除<code>number</code>，<code>string</code>，<code>boolean</code>，<code>symbol</code>，<code>null</code>或<code>undefined</code>之外的类型</p>
<p>定义了一个只能保存对象的变量</p>
<p>我们后面更常用的是 <code>接口</code> 与 <code>类型别名</code></p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Never类型</span></span><br><span class="line"><span class="comment">// never类型表示的是那些永不存在的值的类型</span></span><br><span class="line"><span class="comment">// 例如: never类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型</span></span><br><span class="line"><span class="comment">//      变量也可能是 never类型，当它们被永不为真的类型保护所约束时。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点:never类型是任何类型的子类型，也可以赋值给任何类型；然而，没有类型是never的子类型或可以赋值给never类型（除了never本身之外）。</span></span><br><span class="line"><span class="comment">//  即使 any也不可以赋值给never</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回never的函数必须存在无法达到的终点</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">error</span>(<span class="params"><span class="attr">message</span>: <span class="built_in">string</span></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">error</span>(<span class="string">&quot;鞠婧祎&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推断的返回值类型为never</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fail</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">error</span>(<span class="string">&quot;Something failed&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回never的函数必须存在无法达到的终点</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">infiniteLoop</span>(<span class="params"></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object类型</span></span><br><span class="line"><span class="comment">// 表示一个对象</span></span><br><span class="line"><span class="comment">// 定义了一个只能保存对象的变量</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddess</span>:<span class="built_in">object</span>; </span><br><span class="line"><span class="comment">// goddess = 1;</span></span><br><span class="line"><span class="comment">// goddess = &quot;123&quot;;</span></span><br><span class="line"><span class="comment">// goddess = true;</span></span><br><span class="line">goddess = &#123;<span class="attr">name</span>:<span class="string">&#x27;白鹿&#x27;</span>, <span class="attr">age</span>:<span class="number">27</span>&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(goddess);</span><br></pre></td></tr></table></figure>



<h4 id="7-枚举"><a href="#7-枚举" class="headerlink" title="7.枚举"></a>7.枚举</h4><ul>
<li><code>enum</code>类型是对JavaScript标准数据类型的一个补充。 像C#等其它语言一样，使用枚举类型可以为一组数值赋予友好的名字。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 枚举用于表示固定的几个取值</span></span><br><span class="line"><span class="comment">// 例如: 人的性别只能是男或者女</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123; </span><br><span class="line">  <span class="title class_">Male</span>,</span><br><span class="line">  <span class="title class_">Femal</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义了一个名称叫做val的变量, 这个变量中只能保存Male或者Femal</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">val</span>:<span class="title class_">Gender</span>; </span><br><span class="line">val = <span class="title class_">Gender</span>.<span class="property">Male</span>;</span><br><span class="line">val = <span class="title class_">Gender</span>.<span class="property">Femal</span>;</span><br><span class="line"><span class="comment">// val = &#x27;nan&#x27;; // 报错</span></span><br><span class="line"><span class="comment">// val  = false;// 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: TS中的枚举底层实现的本质其实就是数值类型, 所以赋值一个数值不会报错</span></span><br><span class="line">val = <span class="number">666</span>; <span class="comment">// 不会报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender</span>.<span class="property">Male</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender</span>.<span class="property">Femal</span>);<span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: TS中的枚举类型的取值, 默认是从上至下从0开始递增的</span></span><br><span class="line"><span class="comment">//         虽然默认是从0开始递增的, 但是我们也可以手动的指定枚举的取值的值</span></span><br><span class="line"><span class="comment">// 注意点: 如果手动指定了前面枚举值的取值, 那么后面枚举值的取值会根据前面的值来递增</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender2</span>&#123; </span><br><span class="line">  <span class="title class_">Male</span>=<span class="number">5</span>,</span><br><span class="line">  <span class="title class_">Femal</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender2</span>.<span class="property">Male</span>); <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender2</span>.<span class="property">Femal</span>);<span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 如果手动指定了后面枚举值的取值, 那么前面枚举值的取值不会受到影响</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender3</span>&#123; </span><br><span class="line">  <span class="title class_">Male</span>,</span><br><span class="line">  <span class="title class_">Femal</span>=<span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender3</span>.<span class="property">Male</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender3</span>.<span class="property">Femal</span>);<span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 我们还可以同时修改多个枚举值的取值, 如果同时修改了多个, 那么修改的是什么最后就是什么</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender4</span>&#123; </span><br><span class="line">  <span class="title class_">Male</span>=<span class="number">100</span>,</span><br><span class="line">  <span class="title class_">Femal</span>=<span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender4</span>.<span class="property">Male</span>); <span class="comment">// 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender4</span>.<span class="property">Femal</span>);<span class="comment">// 200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 我们可以通过枚举值拿到它对应的数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender</span>.<span class="property">Male</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 我们还可以通过它对应的数据拿到它的枚举值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender</span>[<span class="number">0</span>]); <span class="comment">// Male</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="8-bight与symbol"><a href="#8-bight与symbol" class="headerlink" title="8.bight与symbol"></a>8.bight与symbol</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bight类型: 表示非常大的数</span></span><br><span class="line"><span class="comment">// symbol类型: 表示全局唯一引用</span></span><br><span class="line"><span class="comment">// ES2020可用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const Hundred1: bigint = BigInt(100)</span></span><br><span class="line"><span class="comment">// const Hundred2: bigint = 100n</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const firstName = Symbol(&quot;name&quot;)</span></span><br><span class="line"><span class="comment">// const secondName = Symbol(&quot;name&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// if (firstName === secondName) &#123;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;ok&#x27;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>



<h4 id="9-变量声明与解构"><a href="#9-变量声明与解构" class="headerlink" title="9.变量声明与解构"></a>9.变量声明与解构</h4><ul>
<li>与js中完全一致，我们简单复习一下解构</li>
<li>‘数组解构与对象解构</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量声明的方式</span></span><br><span class="line"><span class="comment">// var | let | const</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组解构</span></span><br><span class="line"><span class="keyword">let</span> goddess = [<span class="string">&quot;邱淑贞&quot;</span>, <span class="string">&quot;赵雅芝&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> [first, second] = goddess;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first); <span class="comment">// 邱淑贞</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(second); <span class="comment">// 李紫婷</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [third, ...rest] = [<span class="string">&quot;赵今麦&quot;</span>, <span class="string">&quot;蒋依依&quot;</span>, <span class="string">&quot;欧阳娜娜&quot;</span>, <span class="string">&quot;李庚希&quot;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(third); <span class="comment">//  赵今麦</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rest); <span class="comment">// [&quot;蒋依依&quot;, &quot;欧阳娜娜&quot;, &quot;李庚希&quot;];</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [, fourth, , fifth] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fourth); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fifth); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象解构</span></span><br><span class="line"><span class="keyword">let</span> beauty  = &#123;</span><br><span class="line">  <span class="attr">uname</span>: <span class="string">&quot;杨超越&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;女&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; uname, age&#125; = beauty;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(uname);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="10-类型断言"><a href="#10-类型断言" class="headerlink" title="10.类型断言"></a>10.类型断言</h4><ul>
<li><p>什么是类型断言?</p>
<p>类型断言可以用来手动指定一个值的类型，即允许变量从一种类型更改为另一种类型。</p>
<p>通俗的说就是我相信我自己在定义什么类型</p>
</li>
<li><p>语法格式</p>
<p><code>&lt;类型&gt;值</code></p>
<p><code>值 as 类型</code></p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  1.什么是类型断言?</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  类型断言可以用来手动指定一个值的类型，即允许变量从一种类型更改为另一种类型。</span></span><br><span class="line"><span class="comment">  通俗的说就是我相信我自己在定义什么类型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  2.语法格式</span></span><br><span class="line"><span class="comment">    2.1 &lt;类型&gt;值</span></span><br><span class="line"><span class="comment">    2.2 值 as 类型</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;世界上最遥远的距离就是,你是if而我是else, 似乎一直相伴但又永远相离&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式一</span></span><br><span class="line"><span class="comment">// let len = (&lt;string&gt;str).length;</span></span><br><span class="line"><span class="comment">// console.log(len);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二</span></span><br><span class="line"><span class="comment">// let len = (str as string).length;</span></span><br><span class="line"><span class="comment">// console.log(len);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// function TypeAs(x: number | string)&#123;</span></span><br><span class="line"><span class="comment">//   console.log(x.length);</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// TypeAs(&quot;世界上最痴心的等待,是我当case你当switch,或许永远都选不上自己&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">TypeAs</span>(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span> | <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> len = (x <span class="keyword">as</span> <span class="built_in">string</span>).<span class="property">length</span>;</span><br><span class="line">  <span class="comment">// let len = (&lt;string&gt;x).length;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(len);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">TypeAs</span>(<span class="string">&quot;世界上最痴心的等待,是我当case而你当switch,或许永远都选不上自己&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="11-type别名"><a href="#11-type别名" class="headerlink" title="11.type别名"></a>11.type别名</h4><ul>
<li>类型别名就是给一个类型起个新名字, 但是它们都代表同一个类型</li>
</ul>
<p>例如: 你的女神叫邱淑贞, 她的外号叫女神, 女神就是邱淑贞的别名, 邱淑贞和女神都表示同一个人</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一种</span></span><br><span class="line"><span class="keyword">type</span> beautys = <span class="string">&quot;邱淑贞&quot;</span> | <span class="string">&quot;赵雅芝&quot;</span> | <span class="string">&quot;王祖贤&quot;</span> | <span class="string">&quot;朱茵&quot;</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">one</span>:beautys;</span><br><span class="line"></span><br><span class="line">one = <span class="string">&quot;邱淑贞&quot;</span>;</span><br><span class="line"><span class="comment">// one = 100 // 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line"><span class="keyword">type</span> myfun = <span class="function">(<span class="params"><span class="attr">a</span>:<span class="built_in">number</span>, <span class="attr">b</span>:<span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">fun</span>:myfun = <span class="function">(<span class="params"><span class="attr">a</span>:<span class="built_in">number</span>, <span class="attr">b</span>:<span class="built_in">number</span></span>) =&gt;</span> a + b;</span><br><span class="line"><span class="title function_">fun</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三种</span></span><br><span class="line"><span class="keyword">type</span> myGoddass = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span>,</span><br><span class="line">  actor?: <span class="built_in">boolean</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">shuzhen</span>:myGoddass = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;女&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="第四章-接口"><a href="#第四章-接口" class="headerlink" title="第四章 接口"></a>第四章 接口</h2><h4 id="1-接口的基本使用"><a href="#1-接口的基本使用" class="headerlink" title="1.接口的基本使用"></a>1.接口的基本使用</h4><ul>
<li><p>什么是接口？</p>
<p>接口是一系列抽象方法的声明，是一些方法特征的集合，这些方法都应该是抽象的，需要由具体的类去实现，</p>
<p>然后第三方就可以通过这组抽象方法调用，让具体的类执行具体的方法 </p>
</li>
<li><p>格式:</p>
</li>
</ul>
<p><code>interface interface_name &#123;&#125; </code></p>
<p><code>type 名称 = &#123;&#125;</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">接口是什么？</span></span><br><span class="line"><span class="comment">  接口是一系列抽象方法的声明，是一些方法特征的集合，这些方法都应该是抽象的，需要由具体的类去实现，</span></span><br><span class="line"><span class="comment">  然后第三方就可以通过这组抽象方法调用，让具体的类执行具体的方法 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  接口也是一种数据类型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">格式：</span></span><br><span class="line"><span class="comment">  interface interface_name &#123; </span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IFullName</span> &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span></span><br><span class="line">  lastName : <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddassName</span>: <span class="title class_">IFullName</span> = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(goddassName.<span class="property">firstName</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(goddassName.<span class="property">lastName</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">say</span>(<span class="params">&#123;firstName, lastName&#125;:<span class="title class_">IFullName</span></span>):<span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我的姓名是:<span class="subst">$&#123;firstName&#125;</span>_<span class="subst">$&#123;lastName&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">say</span>(goddassName);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-可选属性与只读属性"><a href="#2-可选属性与只读属性" class="headerlink" title="2.可选属性与只读属性"></a>2.可选属性与只读属性</h4><ul>
<li>可选属性使用： ？</li>
<li>只读属性使用: readonly</li>
<li>readonly与const的区别: 做为变量使用的话用 const，若做为属性则使用readonly</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选属性   使用?来进行修饰</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IFullName</span> &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span></span><br><span class="line">  lastName : <span class="built_in">string</span></span><br><span class="line">  age?: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddassName</span>: <span class="title class_">IFullName</span> = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(goddassName.<span class="property">firstName</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(goddassName.<span class="property">lastName</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 只读属性  readonly</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IInfo</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">uname</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">uage</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">beauty</span>:<span class="title class_">IInfo</span> = &#123;</span><br><span class="line">  <span class="attr">uname</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">uage</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// beauty.uname = &quot;赵丽颖&quot;;  // 报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  总结: readyonly 与 const 区别:</span></span><br><span class="line"><span class="comment">    最简单判断该用readonly还是const的方法是看要把它做为变量使用还是做为一个属性。 </span></span><br><span class="line"><span class="comment">    做为变量使用的话用 const，</span></span><br><span class="line"><span class="comment">    若做为属性则使用readonly</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<h4 id="3-索引签名"><a href="#3-索引签名" class="headerlink" title="3.索引签名"></a>3.索引签名</h4><ul>
<li>定义: 索引签名用于描述那些“通过索引得到”的类型</li>
<li>格式: 如<code>[props: string]:any</code></li>
<li>应用场景: 解决参数问题</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IFullName</span> &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span></span><br><span class="line">  lastName : <span class="built_in">string</span></span><br><span class="line">  age?: <span class="built_in">number</span></span><br><span class="line">  singName?: <span class="built_in">string</span></span><br><span class="line">  [<span class="attr">props</span>: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 如果使用接口来限定了变量或者形参, 那么在给变量或者形参赋值的时候,多一个或者少一个都不行</span></span><br><span class="line"><span class="comment">// 实际开发中往往会出现多或者少的情况，怎么解决？</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 少一个或者少多个属性</span></span><br><span class="line"><span class="comment">// 解决方案: 可选属性</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass1</span>:<span class="title class_">IFullName</span> = &#123;<span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass2</span>:<span class="title class_">IFullName</span> = &#123;<span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 多一个或者多多个属性</span></span><br><span class="line"><span class="comment">// 方案一：使用变量</span></span><br><span class="line"><span class="keyword">let</span> info = &#123;<span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">singName</span>: <span class="string">&quot;赌王&quot;</span>, <span class="attr">dance</span>: <span class="string">&quot;芭蕾&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass3</span>:<span class="title class_">IFullName</span> = info</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方案二: 使用类型断言</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass4</span>:<span class="title class_">IFullName</span> = (&#123;<span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">singName</span>: <span class="string">&quot;赌王&quot;</span>, <span class="attr">dance</span>: <span class="string">&quot;芭蕾&quot;</span>&#125;) <span class="keyword">as</span> <span class="title class_">IFullName</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 索引签名？</span></span><br><span class="line"><span class="comment">// 索引签名用于描述那些“通过索引得到”的类型</span></span><br><span class="line"><span class="comment">// 注意点: 对象中的键，会被转化为字符串</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Ibeauty</span> &#123;</span><br><span class="line">  [<span class="attr">props</span>: <span class="built_in">string</span>]: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">name</span>:<span class="title class_">Ibeauty</span> = &#123;<span class="attr">name1</span>: <span class="string">&quot;邱淑贞&quot;</span>, <span class="attr">name2</span>: <span class="string">&quot;李嘉欣&quot;</span>, <span class="attr">name3</span>: <span class="string">&quot;周慧敏&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Iage</span> &#123;</span><br><span class="line">  [<span class="attr">props</span>: <span class="built_in">string</span>]: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">afe</span>:<span class="title class_">Iage</span> = &#123;<span class="attr">age1</span>: <span class="number">18</span>, <span class="attr">age2</span>: <span class="number">20</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方案三: 索引签名</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass5</span>:<span class="title class_">IFullName</span> = &#123;<span class="attr">firstName</span>: <span class="string">&quot;邱&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;淑贞&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">singName</span>: <span class="string">&quot;赌王&quot;</span>, <span class="attr">dance</span>: <span class="string">&quot;芭蕾&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-函数接口"><a href="#4-函数接口" class="headerlink" title="4.函数接口"></a>4.函数接口</h4><ul>
<li>为了使用接口表示函数类型，我们需要给接口定义一个调用签名。</li>
</ul>
<p>​       它就像是一个只有参数列表和返回值类型的函数定义。参数列表里的每个参数都需要名字和类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数接口</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  为了使用接口表示函数类型，我们需要给接口定义一个调用签名。 </span></span><br><span class="line"><span class="comment">  它就像是一个只有参数列表和返回值类型的函数定义。参数列表里的每个参数都需要名字和类型</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ImakeMoney</span> &#123;</span><br><span class="line">  (<span class="attr">salary</span>:<span class="built_in">number</span>, <span class="attr">reward</span>:<span class="built_in">number</span>):<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">sum</span>:<span class="title class_">ImakeMoney</span> = <span class="keyword">function</span> (<span class="params"><span class="attr">x</span>:<span class="built_in">number</span>, <span class="attr">y</span>:<span class="built_in">number</span></span>):<span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> res = <span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口与数组</span></span><br><span class="line"><span class="comment">// 我们定义了StringArray接口，它具有索引签名。 </span></span><br><span class="line"><span class="comment">// 这个索引签名表示了当用 number去索引StringArray时会得到string类型的返回值</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IStringArray</span> &#123;</span><br><span class="line">  [<span class="attr">index</span>: <span class="built_in">number</span>]: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myArray</span>: <span class="title class_">IStringArray</span>;</span><br><span class="line">myArray = [<span class="string">&quot;邱淑贞&quot;</span>, <span class="string">&quot;赵今麦&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myStr</span>: <span class="built_in">string</span> = myArray[<span class="number">1</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myStr);</span><br></pre></td></tr></table></figure>



<h4 id="5-接口的继承"><a href="#5-接口的继承" class="headerlink" title="5.接口的继承"></a>5.接口的继承</h4><ul>
<li>接口继承就是说接口可以通过其他接口来扩展自己。</li>
<li>Typescript 允许接口继承多个接口。</li>
<li>继承使用关键字 extends。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单继承</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123; </span><br><span class="line">  <span class="attr">age</span>:<span class="built_in">number</span> </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IName</span> <span class="keyword">extends</span> <span class="title class_">IPerson</span> &#123; </span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span> </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">lady</span>:<span class="title class_">IName</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多继承</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IFatherMoney</span> &#123;</span><br><span class="line">  <span class="attr">m1</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMotherMoney</span> &#123;</span><br><span class="line">  <span class="attr">m2</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ISon</span> <span class="keyword">extends</span> <span class="title class_">IFatherMoney</span>, <span class="title class_">IMotherMoney</span> &#123;</span><br><span class="line">  <span class="attr">s</span>: <span class="built_in">number</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">money</span>:<span class="title class_">ISon</span> = &#123;</span><br><span class="line">  <span class="attr">m1</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">m2</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">s</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`儿子一共有<span class="subst">$&#123;money.m1 + money.m2 + money.s&#125;</span>万元`</span>);</span><br></pre></td></tr></table></figure>



<h4 id="6-接口的混合类型"><a href="#6-接口的混合类型" class="headerlink" title="6.接口的混合类型"></a>6.接口的混合类型</h4><ul>
<li>接口的混合类型就是调用接口的时候，同时包含多种不同的类型</li>
<li>应用场景: 闭包</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在接口中有多种类型进行混合</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">  (<span class="attr">start</span>: <span class="built_in">number</span>): <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">interval</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="title function_">reset</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCounter</span>(<span class="params"></span>): <span class="title class_">Counter</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = &lt;<span class="title class_">Counter</span>&gt;<span class="keyword">function</span> (<span class="params"><span class="attr">start</span>: <span class="built_in">number</span></span>) &#123; &#125;;</span><br><span class="line">  counter.<span class="property">interval</span> = <span class="number">123</span>;</span><br><span class="line">  counter.<span class="property">reset</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> counter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="title function_">getCounter</span>();</span><br><span class="line"><span class="title function_">c</span>(<span class="number">10</span>);</span><br><span class="line">c.<span class="title function_">reset</span>();</span><br><span class="line">c.<span class="property">interval</span> = <span class="number">5.0</span>;</span><br></pre></td></tr></table></figure>



<h4 id="7-接口与类型别名的异同"><a href="#7-接口与类型别名的异同" class="headerlink" title="7.接口与类型别名的异同"></a>7.接口与类型别名的异同</h4><blockquote>
<p>1.相同点:</p>
<ul>
<li>都可以描述属性或方法</li>
<li>都允许拓展</li>
</ul>
<p>2.不同点:</p>
<ul>
<li>type可以声明基本数据类型，联合类型，数组等; interface只能声明变量</li>
<li>当出现使用type和interface声明同名的数据时;type会直接报错;interface会进行组合</li>
<li>type不会自动合并；interface会</li>
</ul>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相同点:</span></span><br><span class="line"><span class="comment">// 1.都可以描述属性或方法</span></span><br><span class="line"><span class="keyword">type</span> womenStar = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">  <span class="title function_">perform</span>(): <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IWStar</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">  <span class="title function_">perform</span>(): <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> star1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="title function_">perform</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;倚天屠龙记&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> star2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;李一桐&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="title function_">perform</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;射雕英雄传&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.都允许拓展</span></span><br><span class="line"><span class="keyword">type</span> money  = &#123;</span><br><span class="line">  <span class="attr">y1</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> money2 = money &amp; &#123;</span><br><span class="line">  <span class="attr">y2</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">salary</span>:money2 = &#123;</span><br><span class="line">  <span class="attr">y1</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">y2</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Istar1</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Istar2</span> <span class="keyword">extends</span> <span class="title class_">Istar1</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">starInfo</span>:<span class="title class_">Istar2</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不同点：</span></span><br><span class="line"><span class="comment">// 1.type可以声明基本数据类型，联合类型，数组等</span></span><br><span class="line"><span class="comment">//   interface只能声明变量</span></span><br><span class="line"><span class="keyword">type</span> age = <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> info = <span class="built_in">string</span> | <span class="built_in">number</span> | <span class="built_in">boolean</span>;</span><br><span class="line"><span class="keyword">type</span> beautyList = [<span class="built_in">string</span> | <span class="built_in">number</span>];</span><br><span class="line"><span class="comment">// interface Iage = number; // 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.当出现使用type和interface声明同名的数据时</span></span><br><span class="line"><span class="comment">//   type会直接报错</span></span><br><span class="line"><span class="comment">//   interface会进行组合</span></span><br><span class="line"><span class="comment">// type mygoddassName = &#123;</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type mygoddassName = &#123;</span></span><br><span class="line"><span class="comment">//   name: number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> mygoddassName &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">interface</span> mygoddassName &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">goddass</span>:mygoddassName = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;赵丽颖&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="第五章-函数"><a href="#第五章-函数" class="headerlink" title="第五章 函数"></a>第五章 函数</h2><h4 id="1-函数的基本使用"><a href="#1-函数的基本使用" class="headerlink" title="1.函数的基本使用"></a>1.函数的基本使用</h4><ul>
<li><p>介绍</p>
<p>函数是JavaScript应用程序的基础。 它帮助你实现抽象层，模拟类，信息隐藏和模块。 在TypeScript里，虽然已经支持类，命名空间和模块，但函数仍然是主要的定义 <em>行为</em>的地方。 TypeScript为JavaScript函数添加了额外的功能，让我们可以更容易地使用</p>
</li>
<li><p>函数定义的方式</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匿名函数</span></span><br><span class="line"><span class="keyword">const</span> makeMoney = <span class="keyword">function</span>(<span class="params"><span class="attr">salary</span>: <span class="built_in">number</span>, <span class="attr">reward</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> salary + reward</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 有名函数 | 命名函数 | 普通函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">writeCode</span>(<span class="params"><span class="attr">hour</span>: <span class="built_in">number</span>, <span class="attr">sleep</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> hour</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"><span class="keyword">const</span> seeMeiMei = (<span class="attr">time</span>: <span class="built_in">number</span>):<span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我每天要看<span class="subst">$&#123;time&#125;</span>个小时MeiMei`</span>);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">seeMeiMei</span>(<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口函数</span></span><br><span class="line"><span class="keyword">type</span> myFunc = <span class="function">(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">myfunc</span>:myFunc = <span class="function">(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>) =&gt;</span> a + b</span><br></pre></td></tr></table></figure>

<h4 id="2-函数参数的处理"><a href="#2-函数参数的处理" class="headerlink" title="2.函数参数的处理"></a>2.函数参数的处理</h4><ul>
<li><p>可选参数: </p>
<p>在 TypeScript 函数里，如果我们定义了参数，则我们必须传入这些参数，除非将这些参数设置为可选，可选参数使用问号标识  <code>？</code></p>
</li>
<li><p>默认参数:</p>
<p>我们也可以设置参数的默认值，这样在调用函数的时候，如果不传入该参数的值，则使用默认参数，语法格式为 &#96;&#96;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function function_name(param1[:type],param2[:type] = default_value) &#123; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>剩余参数:</p>
<p>有一种情况，我们不知道要向函数传入多少个参数，这时候我们就可以使用剩余参数来定义。</p>
<p>剩余参数语法允许我们将一个不确定数量的参数作为一个数组传入。<code>...args:any[]</code></p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选参数</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">func1</span>:<span class="function">(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span>, y?: <span class="built_in">number</span></span>)=&gt;</span><span class="built_in">number</span> = <span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> func2 = <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, b?: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func2</span>(<span class="number">10</span>);</span><br><span class="line"><span class="title function_">func2</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="title function_">func2</span>(<span class="number">10</span>, <span class="literal">undefined</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的默认值</span></span><br><span class="line"><span class="keyword">const</span> func3 = <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span> = <span class="number">1</span>, <span class="attr">b</span>:<span class="built_in">number</span> =<span class="number">2</span>, <span class="attr">c</span>:<span class="built_in">number</span>=<span class="number">3</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func3</span>();</span><br><span class="line"><span class="title function_">func3</span>(<span class="number">10</span>);</span><br><span class="line"><span class="title function_">func3</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="title function_">func3</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的剩余参数</span></span><br><span class="line"><span class="keyword">const</span> func4 = <span class="keyword">function</span>(<span class="params">...<span class="attr">args</span>:<span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(args);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func4</span>(<span class="number">10</span>, <span class="number">20</span> , <span class="number">30</span>, <span class="string">&quot;邱淑贞&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> func5 = <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>:<span class="built_in">number</span>, <span class="attr">b</span>:<span class="built_in">number</span>, ...<span class="attr">args</span>:<span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(args);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func5</span>(<span class="number">10</span>, <span class="number">20</span> , <span class="number">30</span>, <span class="string">&quot;邱淑贞&quot;</span>, <span class="string">&quot;邢菲&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="3-构造函数"><a href="#3-构造函数" class="headerlink" title="3.构造函数"></a>3.构造函数</h4><p>TypeScript 也支持使用 JavaScript 内置的构造函数 Function() 来定义函数：</p>
<p>语法格式如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = <span class="keyword">new</span> <span class="title class_">Function</span> ([arg1[, arg2[, ...argN]],] functionBody)</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li><strong>arg1, arg2, … argN</strong>：参数列表</li>
<li><strong>functionBody</strong>：一个含有包括函数定义的 JavaScript 语句的字符串。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">var</span> myFunction = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;return a * b&quot;</span>); </span><br><span class="line"><span class="keyword">var</span> x = <span class="title function_">myFunction</span>(<span class="number">4</span>, <span class="number">3</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 递归函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params"><span class="attr">arr</span>: <span class="built_in">number</span>[], <span class="attr">n</span>: <span class="built_in">number</span></span>):<span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(n &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">sum</span>(arr, n-<span class="number">1</span>) + arr[n-<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">sum</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">3</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-函数重载"><a href="#4-函数重载" class="headerlink" title="4.函数重载"></a>4.函数重载</h4><p>重载是方法名字相同，而参数不同，返回类型可以相同也可以不同。</p>
<p>每个重载的方法（或者构造函数）都必须有一个独一无二的参数类型列表。</p>
<p><strong>参数类型不同：</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function disp(string):void; </span><br><span class="line">function disp(number):void;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>参数数量不同：</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function disp(n1:number):void; </span><br><span class="line">function disp(x:number,y:number):void;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>参数类型顺序不同：</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function disp(n1:number,s1:string):void; </span><br><span class="line">function disp(s:string,n:number):void;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>如果参数类型不同，则参数类型应设置为 <strong>any</strong>。</p>
<p>参数数量不同你可以将不同的参数设置为可选。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用函数重载的问题</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add2</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">string</span>, <span class="attr">b</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add2</span>(<span class="string">&quot;我的女神是: &quot;</span>, <span class="string">&quot;邱淑贞&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add3</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">string</span>| <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">string</span> | <span class="built_in">number</span></span>)&#123;</span><br><span class="line">  <span class="comment">// return a + b;</span></span><br><span class="line">  <span class="keyword">if</span>( <span class="keyword">typeof</span> a==<span class="string">&quot;number&quot;</span> &amp;&amp; <span class="keyword">typeof</span> b==<span class="string">&quot;number&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>( <span class="keyword">typeof</span> a==<span class="string">&quot;string&quot;</span> &amp;&amp; <span class="keyword">typeof</span> b==<span class="string">&quot;string&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>( <span class="keyword">typeof</span> a==<span class="string">&quot;string&quot;</span> &amp;&amp; <span class="keyword">typeof</span> b==<span class="string">&quot;number&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>( <span class="keyword">typeof</span> a==<span class="string">&quot;number&quot;</span> &amp;&amp; <span class="keyword">typeof</span> b==<span class="string">&quot;string&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add3</span>(<span class="string">&quot;我的女神是: &quot;</span>, <span class="string">&quot;邱淑贞&quot;</span>);</span><br><span class="line"><span class="title function_">add3</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="title function_">add3</span>(<span class="string">&quot;邱淑贞&quot;</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义函数重载</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFunc</span>(<span class="params"><span class="attr">a</span>:<span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>):<span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFunc</span>(<span class="params"><span class="attr">a</span>:<span class="built_in">string</span>, <span class="attr">b</span>: <span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFunc</span>(<span class="params"><span class="attr">a</span>:<span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFunc</span>(<span class="params"><span class="attr">a</span>:<span class="built_in">string</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>):<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用函数重载</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFunc</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">any</span>, <span class="attr">b</span>: <span class="built_in">any</span></span>):<span class="built_in">any</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">addFunc</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="title function_">addFunc</span>(<span class="string">&quot;谭松韵&quot;</span>, <span class="string">&quot;金晨&quot;</span>);</span><br><span class="line"><span class="title function_">addFunc</span>(<span class="number">27</span>, <span class="string">&quot;白鹿&quot;</span>);</span><br><span class="line"><span class="title function_">addFunc</span>(<span class="string">&quot;赵今麦&quot;</span>, <span class="number">19</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义参数类型与参数数量不同</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">star</span>(<span class="params"><span class="attr">s1</span>:<span class="built_in">string</span></span>):<span class="built_in">void</span>; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">star</span>(<span class="params"><span class="attr">n1</span>:<span class="built_in">number</span>,<span class="attr">s1</span>:<span class="built_in">string</span></span>):<span class="built_in">void</span>; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">star</span>(<span class="params"><span class="attr">x</span>:<span class="built_in">any</span>,y?:<span class="built_in">any</span></span>):<span class="built_in">void</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(y); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">star</span>(<span class="string">&quot;王心凌&quot;</span>); </span><br><span class="line"><span class="title function_">star</span>(<span class="number">1</span>,<span class="string">&quot;爱你&quot;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="5-this的使用"><a href="#5-this的使用" class="headerlink" title="5.this的使用"></a>5.this的使用</h4><ul>
<li>JavaScript里，<code>this</code>的值在函数被调用的时候才会指定。 这是个既强大又灵活的特点，但是你需要花点时间弄清楚函数调用的上下文是什么。 但众所周知，这不是一件很简单的事，尤其是在返回一个函数或将函数当做参数传递的时候。</li>
<li>从 TypeScript 2.0 开始，在函数和方法中我们可以声明 <code>this</code> 的类型，实际使用起来也很简单<ul>
<li>使用this参数，改变指向</li>
<li>传入this参数，禁止调用this</li>
</ul>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> userInfo = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;邱淑贞&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">song</span>: <span class="string">&quot;恨你太无情&quot;</span>,</span><br><span class="line">  <span class="attr">marry</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">show</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">marry</span> = <span class="literal">false</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle1</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">w</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">h</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">w</span>: <span class="built_in">number</span>, <span class="attr">h</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">w</span> = w;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">h</span> = h;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getArea</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">w</span> * <span class="variable language_">this</span>.<span class="property">h</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle2</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">w</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">h</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">w</span>: <span class="built_in">number</span>, <span class="attr">h</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">w</span> = w;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">h</span> = h;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getArea</span>(<span class="params"><span class="attr">this</span>: <span class="title class_">Rectangle2</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">w</span> * <span class="variable language_">this</span>.<span class="property">h</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// class Rectangle3 &#123;</span></span><br><span class="line"><span class="comment">//   private w: number;</span></span><br><span class="line"><span class="comment">//   private h: number;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   constructor(w: number, h: number) &#123;</span></span><br><span class="line"><span class="comment">//     this.w = w;</span></span><br><span class="line"><span class="comment">//     this.h = h;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   getArea(this: void) &#123;</span></span><br><span class="line"><span class="comment">//     return () =&gt; &#123;</span></span><br><span class="line"><span class="comment">//       return this.w * this.h;</span></span><br><span class="line"><span class="comment">//     &#125;;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-特殊的函数返回值"><a href="#6-特殊的函数返回值" class="headerlink" title="6.特殊的函数返回值"></a>6.特殊的函数返回值</h4><ul>
<li><p>如果使用类型别名，定义了一个返回值为void的类型, 我们在函数使用的时候，并非一定不能有返回值。</p>
<p>相反，如果我们在函数中写了返回值，我们的返回值是有效的。</p>
</li>
<li><p>如果我们定义函数的时候明确指出，返回值为void，那么我们将除undefined 和 null 以外的值进行返回都会进行报错</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> voidFunc = <span class="function">() =&gt;</span> <span class="built_in">void</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">func1</span>: voidFunc = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">func2</span>: voidFunc = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> f1 = <span class="title function_">func1</span>();</span><br><span class="line"><span class="keyword">let</span> f2 = <span class="title function_">func2</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;f1: &quot;</span>, f1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;f2: &quot;</span>, f2);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 如果我们定义函数的时候明确指出，返回值为void，</span></span><br><span class="line"><span class="comment">// 那么我们将除undefined 和 null 以外的值进行返回</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func3</span>(<span class="params"></span>):<span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="comment">// return 123 // 报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第六章-类的使用"><a href="#第六章-类的使用" class="headerlink" title="第六章 类的使用"></a>第六章 类的使用</h2><h4 id="1-类的基本使用"><a href="#1-类的基本使用" class="headerlink" title="1.类的基本使用"></a>1.类的基本使用</h4><ul>
<li><p>定义</p>
<p>TypeScript 是面向对象的 JavaScript。</p>
<p>类描述了所创建的对象共同的属性和方法。</p>
<p>TypeScript 支持面向对象的所有特性，比如 类、接口等。</p>
<p>TypeScript 类定义方式如下:</p>
</li>
</ul>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class class_name &#123; </span><br><span class="line">// 类作用域</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>定义类的关键字为 class，后面紧跟类名，类可以包含以下几个模块（类的数据成员）：</p>
<ul>
<li><strong>字段</strong> − 字段是类里面声明的变量。字段表示对象的有关数据。</li>
<li><strong>构造函数</strong> − 类实例化时调用，可以为类的对象分配内存。</li>
<li><strong>方法</strong> − 方法为对象要执行的操作。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="comment">// 注意点: 需要先定义实例属性，才能够使用</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sayHello</span>(): <span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我的女神是<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, 她今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁了, 但是在我心里她永远18岁!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;邱淑贞&quot;</span>, <span class="number">54</span>);</span><br><span class="line">p.<span class="title function_">sayHello</span>();</span><br></pre></td></tr></table></figure>

<h4 id="2-类的继承"><a href="#2-类的继承" class="headerlink" title="2.类的继承"></a>2.类的继承</h4><p>TypeScript 支持继承类，即我们可以在创建类的时候继承一个已存在的类，这个已存在的类称为父类，继承它的类称为子类。</p>
<p>类继承使用关键字 <strong>extends</strong>，子类除了不能继承父类的私有成员(方法和属性)和构造函数，其他的都可以继承。</p>
<p>TypeScript 一次只能继承一个类，不支持继承多个类，但 TypeScript 支持多重继承（A 继承 B，B 继承 C）。</p>
<p>语法格式如下：<code>class child_class_name extends parent_class_name</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">say</span>():<span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我是<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, 今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁`</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="attr">score</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span>, <span class="attr">score</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(name, age);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">score</span> = score;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">say</span>():<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// 调用父类的函数</span></span><br><span class="line">    <span class="variable language_">super</span>.<span class="title function_">say</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我是重写之后的say方法, 我是学生<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, 今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁了, 我的成绩为<span class="subst">$&#123;<span class="variable language_">this</span>.score&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;蒋依依&quot;</span>, <span class="number">18</span>, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">s.<span class="title function_">say</span>();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-static与instanceof"><a href="#3-static与instanceof" class="headerlink" title="3.static与instanceof"></a>3.static与instanceof</h4><ul>
<li><p>static 关键字用于定义类的数据成员（属性和方法）为静态的，静态成员可以直接通过类名调用。</p>
</li>
<li><p>instanceof 运算符用于判断对象是否是指定的类型，如果是返回 true，否则返回 false。</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// static关键字</span></span><br><span class="line"><span class="comment">// static 关键字用于定义类的数据成员（属性和方法）为静态的，静态成员可以直接通过类名调用。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StaticTest</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="attr">salary</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">say</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我们想要的工资是: &quot;</span> + <span class="title class_">StaticTest</span>.<span class="property">salary</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">StaticTest</span>.<span class="property">salary</span> = <span class="string">&quot;18k&quot;</span>;</span><br><span class="line"><span class="title class_">StaticTest</span>.<span class="title function_">say</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// instanceof运算符</span></span><br><span class="line"><span class="comment">// instanceof 运算符用于判断对象是否是指定的类型，如果是返回 true，否则返回 false。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;&#125; </span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>() </span><br><span class="line"><span class="keyword">let</span> isPerson = p <span class="keyword">instanceof</span> <span class="title class_">Person</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;p 对象是 Person 类实例化来的吗？ &quot;</span> + isPerson); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Person</span>() </span><br><span class="line"><span class="keyword">let</span> isPerson2 = s <span class="keyword">instanceof</span> <span class="title class_">Person</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;s 对象是 Person 类实例化来的吗？ &quot;</span> + isPerson2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="4-类中的修饰符"><a href="#4-类中的修饰符" class="headerlink" title="4.类中的修饰符"></a>4.类中的修饰符</h4><ul>
<li>**public(默认)**：公有，可以在任何地方被访问</li>
<li><strong>protected</strong>:  受保护，可以被其自身以及其子类访问</li>
<li><strong>private:</strong>  私有，只能被其定义所在的类访问。</li>
<li><strong>readonly</strong>: 可以使用 <code>readonly</code>关键字将属性设置为只读的。 只读属性必须在声明时或构造函数里被初始化。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">protected</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">sex</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span>, <span class="attr">sex</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sex</span> = sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">say</span>():<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我的名字是<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,性别为<span class="subst">$&#123;<span class="variable language_">this</span>.sex&#125;</span>, 今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁了,`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="attr">score</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span>, <span class="attr">sex</span>: <span class="built_in">string</span>, <span class="attr">score</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(name, age, sex);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">score</span> = score;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">show</span>():<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">    <span class="comment">// console.log(this.sex);</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">score</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;邱淑贞&quot;</span>, <span class="number">18</span>, <span class="string">&quot;女&quot;</span>);</span><br><span class="line">p.<span class="title function_">say</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;王心凌&quot;</span>, <span class="number">18</span>, <span class="string">&quot;女&quot;</span>, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">s.<span class="title function_">show</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 思考题: 如果我们给 constructor 加上 protected 会出现什么情况？</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// readonly: 字段的前缀可以是 readonly 修饰符。这可以防止在构造函数之外对该字段进行赋值。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrintConsole</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">str1</span>: <span class="built_in">string</span> = <span class="string">&quot;HTML, CSS, JS, VUE REACT, NODE&quot;</span></span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">str2</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">str3</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">str4</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">str2</span>: <span class="built_in">string</span>, <span class="attr">str3</span>:<span class="built_in">string</span>, <span class="attr">str4</span>:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">str2</span> = str2;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">str3</span> = str3;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">str4</span> = str4;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// show():void &#123;</span></span><br><span class="line">  <span class="comment">//   this.str2 = &quot;123&quot;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pc = <span class="keyword">new</span> <span class="title class_">PrintConsole</span>(<span class="string">&quot;我的头发去哪了, 颈椎康复指南&quot;</span>, </span><br><span class="line">                          <span class="string">&quot;35岁失业该怎么办, 外卖月入一万也挺好&quot;</span>, </span><br><span class="line">                          <span class="string">&quot;活着&quot;</span>) </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-getter与setter"><a href="#5-getter与setter" class="headerlink" title="5.getter与setter"></a>5.getter与setter</h4><p>官方的另外一个名字: <code>存取器</code></p>
<p>通过getters&#x2F;setters来截取对对象成员的访问</p>
<p><strong>注意点:</strong></p>
<blockquote>
<p>如果存在 get ，但没有 set ，则该属性自动是只读的<br>如果没有指定 setter 参数的类型，它将从 getter 的返回类型中推断出来<br>访问器和设置器必须有相同的成员可见性</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GetNameClass</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">_fullName</span>: <span class="built_in">string</span> = <span class="string">&quot;倪妮&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">fullName</span>():<span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我是get方法&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_fullName</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">fullName</span>(<span class="params"><span class="attr">newName</span>:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我是set方法&quot;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_fullName</span> = newName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> starname = <span class="keyword">new</span> <span class="title class_">GetNameClass</span>();</span><br><span class="line">starname.<span class="property">fullName</span> = <span class="string">&quot;袁冰妍&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starname);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starname.<span class="property">fullName</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-抽象类"><a href="#6-抽象类" class="headerlink" title="6.抽象类"></a>6.抽象类</h4><ul>
<li><p>定义</p>
<p>抽象类做为其它派生类的基类使用。 它们一般不会直接被实例化</p>
<p>抽象类是专门用于定义哪些不希望被外界直接创建的类的</p>
<p>抽象类和接口一样用于约束子类</p>
</li>
<li><p>抽象类和接口区别</p>
<p>抽象方法必须包含 <code>abstract</code>关键字并且可以包含访问修饰符</p>
<p>接口中只能定义约束, 不能定义具体实现。而抽象类中既可以定义约束, 又可以定义具体实现</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="keyword">abstract</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">abstract</span> <span class="title function_">show</span>(): <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="title function_">show</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;孟子义&quot;</span>;</span><br><span class="line">  <span class="title function_">show</span>():<span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;陈情令&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// let p = new Person();</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="keyword">let</span> res =  s.<span class="title function_">show</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br></pre></td></tr></table></figure>

<h4 id="7-implements子句"><a href="#7-implements子句" class="headerlink" title="7.implements子句"></a>7.implements子句</h4><ul>
<li>类可以实现接口，使用关键字 implements</li>
<li>可以使用一个 implements 子句来检查一个类，是否满足了一个特定的接口。如果一个类不能正确地<br>实现它，就会发出一个错误</li>
</ul>
<p>注意点: </p>
<p>​	实现一个带有可选属性的接口并不能创建该属性</p>
<p>​	只要一个接口继承了某个类, 那么就会继承这个类中所有的属性和方法,但是只会继承属性和方法的声明, 不会继承属	性和方法实现</p>
<p>与<code>extends</code>的区别</p>
<blockquote>
<p>extends: 继承某个类，继承之后可以使用父类的方法，也可以重写父类的方法</p>
<p>implements:继承某个类，<strong>必须重写</strong>才可以使用</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  extend: 继承某个类，继承之后可以使用父类的方法，也可以重写父类的方法</span></span><br><span class="line"><span class="comment">  implements:继承某个类，必须重写才可以使用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPersonInfo</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  sex?: <span class="built_in">string</span>; </span><br><span class="line">  <span class="title function_">show</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMusic</span> &#123;</span><br><span class="line">  <span class="attr">music</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">IPersonInfo</span>, <span class="title class_">IMusic</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;吴谨言&quot;</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">32</span>;</span><br><span class="line">  <span class="attr">music</span>: <span class="built_in">string</span> = <span class="string">&quot;雪落下的声音&quot;</span>;</span><br><span class="line">  <span class="title function_">show</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>是&#x27;延禧攻略&#x27;的主演，她今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁了`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>唱了一首歌叫 <span class="subst">$&#123;<span class="variable language_">this</span>.music&#125;</span>`</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p.<span class="title function_">show</span>();</span><br><span class="line"><span class="comment">// p.name = &quot;周冬雨&quot;</span></span><br><span class="line"><span class="comment">// p.sex = &quot;女&quot; // 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 只要一个接口继承了某个类, 那么就会继承这个类中所有的属性和方法</span></span><br><span class="line"><span class="comment">// 但是只会继承属性和方法的声明, 不会继承属性和方法实现</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITest</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">salary</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Star</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> <span class="keyword">implements</span> <span class="title class_">ITest</span> &#123;</span><br><span class="line">  <span class="attr">salary</span>: <span class="built_in">number</span> = <span class="number">50</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;关晓彤&quot;</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Star</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">salary</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">name</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="8-类的初始化顺序"><a href="#8-类的初始化顺序" class="headerlink" title="8.类的初始化顺序"></a>8.类的初始化顺序</h4><ul>
<li>基类的字段被初始化</li>
<li>基类构造函数运行</li>
<li>子类的字段被初始化</li>
<li>子类构造函数运行</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  1.基类的字段被初始化</span></span><br><span class="line"><span class="comment">  2.基类构造函数运行</span></span><br><span class="line"><span class="comment">  3.子类的字段被初始化</span></span><br><span class="line"><span class="comment">  4.子类构造函数运行</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Old</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;林青霞&quot;</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我的名字是：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Young</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Old</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;李子璇&quot;</span></span><br><span class="line">  <span class="title function_">constructor</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>()</span><br><span class="line">    <span class="comment">// console.log(this.name);</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y = <span class="keyword">new</span> <span class="title class_">Young</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第七章-泛型"><a href="#第七章-泛型" class="headerlink" title="第七章 泛型"></a>第七章 泛型</h2><h4 id="1-泛型的基本使用"><a href="#1-泛型的基本使用" class="headerlink" title="1.泛型的基本使用"></a>1.泛型的基本使用</h4><ul>
<li>泛型可以理解为宽泛的类型，通常用于类和函数。使用的时候我们再指定类型</li>
<li>泛型不仅可以让我们的代码变得更加健壮, 还能让我们的代码在变得健壮的同时保持灵活性和可重用性</li>
<li>通过用 <code>&lt;T&gt;</code>来表示，放在参数的前面</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用泛型</span></span><br><span class="line"><span class="comment">// let getArray = (value:number, items:number):number[]=&gt;&#123;</span></span><br><span class="line"><span class="comment">//     return new Array(items).fill(value);</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"><span class="comment">// let arr = getArray(8, 3);</span></span><br><span class="line"><span class="comment">// // let arr = getArray(&quot;abc&quot;, 3); // 报错</span></span><br><span class="line"><span class="comment">// console.log(arr);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// let getArray = (value:any, items:number):any[]=&gt;&#123;</span></span><br><span class="line"><span class="comment">//     return new Array(items).fill(value);</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let arr = getArray(&quot;刘亦菲&quot;, 10)</span></span><br><span class="line"><span class="comment">// // let arr = getArray(10, 10)</span></span><br><span class="line"><span class="comment">// console.log(arr);</span></span><br><span class="line"><span class="comment">// let res = arr.map(item=&gt;item.length); </span></span><br><span class="line"><span class="comment">// console.log(res);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用泛型</span></span><br><span class="line"><span class="keyword">let</span> getArray = &lt;T&gt;(<span class="attr">value</span>:T, <span class="attr">items</span>:<span class="built_in">number</span>):T[]=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Array</span>(items).<span class="title function_">fill</span>(value);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = getArray&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;刘亦菲&quot;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">// let arr = getArray&lt;number&gt;(10, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">length</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 回顾</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">techArr1</span>: <span class="built_in">string</span>[] = [<span class="string">&quot;HTML&quot;</span>, <span class="string">&quot;CSS&quot;</span>, <span class="string">&quot;JS&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">techArr2</span>: <span class="title class_">Array</span>&lt;<span class="title class_">String</span>&gt; = [<span class="string">&quot;VUE&quot;</span>, <span class="string">&quot;REACT&quot;</span>, <span class="string">&quot;ANGULAR&quot;</span>];</span><br></pre></td></tr></table></figure>

<h4 id="2-泛型约束"><a href="#2-泛型约束" class="headerlink" title="2.泛型约束"></a>2.泛型约束</h4><ul>
<li>在TS中，我们需要严格的设置各种类型，我们使用泛型之后，将会变得更加灵活，但同时也将会存在一些问题</li>
<li>我们需要对泛型进行约束来解决这些问题</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 演示可能出现的问题</span></span><br><span class="line"><span class="comment">// function getLength&lt;T&gt;(arr: T): T&#123;</span></span><br><span class="line"><span class="comment">//   console.log(arr.length);</span></span><br><span class="line"><span class="comment">//   return arr;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通用的方法</span></span><br><span class="line"><span class="comment">// function getLength&lt;T&gt;(arr: Array&lt;T&gt;): Array&lt;T&gt; &#123;</span></span><br><span class="line"><span class="comment">//   console.log(arr.length); </span></span><br><span class="line"><span class="comment">//   return arr;</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 泛型接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ILength</span> &#123;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> getLength&lt;T <span class="keyword">extends</span> <span class="title class_">ILength</span>&gt;(<span class="attr">arr</span>: T): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="property">length</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getLength</span>(<span class="string">&quot;孟子义&quot;</span>);</span><br><span class="line"><span class="title function_">getLength</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="title function_">getLength</span>(&#123;<span class="attr">length</span>: <span class="number">20</span>&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3-泛型接口"><a href="#3-泛型接口" class="headerlink" title="3.泛型接口"></a>3.泛型接口</h4><ul>
<li>将泛型与接口结合起来使用，可以大大简化我们的代码，增加我们的代码可读性</li>
<li>泛型也可以使用默认值</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// interface IPerson &#123;</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">//   sex: string</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let p: IPerson = &#123;</span></span><br><span class="line"><span class="comment">//   name: &quot;于文文&quot;,</span></span><br><span class="line"><span class="comment">//   sex: &quot;女&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// interface IPerson&lt;T1, T2&gt; &#123;</span></span><br><span class="line"><span class="comment">//   name: T1</span></span><br><span class="line"><span class="comment">//   sex: T2</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let p: IPerson&lt;String, number&gt; = &#123;</span></span><br><span class="line"><span class="comment">//   name: &quot;于文文&quot;,</span></span><br><span class="line"><span class="comment">//   sex: 0</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span>&lt;T1=<span class="title class_">String</span>, T2=<span class="built_in">number</span>&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="variable constant_">T1</span></span><br><span class="line">  <span class="attr">sex</span>: <span class="variable constant_">T2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">p</span>: <span class="title class_">IPerson</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;于文文&quot;</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-泛型类"><a href="#4-泛型类" class="headerlink" title="4.泛型类"></a>4.泛型类</h4><ul>
<li>泛型类看上去与泛型接口差不多。 泛型类使用（ <code>&lt;&gt;</code>）括起泛型类型，跟在类名后面。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&lt;<span class="variable constant_">T1</span>, <span class="variable constant_">T2</span>&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="variable constant_">T1</span></span><br><span class="line">  <span class="attr">age</span>: <span class="variable constant_">T2</span></span><br><span class="line">  <span class="attr">sex</span>: <span class="variable constant_">T1</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: T1, <span class="attr">age</span>: T2, <span class="attr">sex</span>: T1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sex</span> = sex</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;刘诗诗&quot;</span>, <span class="number">18</span>, <span class="string">&quot;女&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>&lt;<span class="title class_">String</span>, <span class="built_in">number</span>&gt;(<span class="string">&quot;虞书欣&quot;</span>, <span class="number">18</span>, <span class="string">&quot;女&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="attr">p3</span>:<span class="title class_">Person</span>&lt;<span class="title class_">String</span>, <span class="built_in">number</span>&gt; = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;刘诗诗&quot;</span>, <span class="number">18</span>, <span class="string">&quot;女&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="5-使用类型参数进行约束"><a href="#5-使用类型参数进行约束" class="headerlink" title="5.使用类型参数进行约束"></a>5.使用类型参数进行约束</h4><ul>
<li>一个泛型被另一个泛型约束, 就叫做泛型约束中使用类型参数</li>
<li>你可以声明一个类型参数，且它被另一个类型参数所约束。 比如，现在我们想要用属性名从对象里获取这个属性。并且我们想要确保这个属性存在于对象 obj上，因此我们需要在这两个类型之间使用约束</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在泛型约束中使用类型参数</span></span><br><span class="line"><span class="comment">// 你可以声明一个类型参数，且它被另一个类型参数所约束。 比如，现在我们想要用属性名从对象里获取这个属性。</span></span><br><span class="line"><span class="comment">// 并且我们想要确保这个属性存在于对象 obj上，因此我们需要在这两个类型之间使用约束</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// interface IkeyInterface &#123;</span></span><br><span class="line"><span class="comment">//   [key: string]: any</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let getProps = (obj:IkeyInterface, key:string): any =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   return obj[key]</span></span><br><span class="line"><span class="comment">// &#125; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let x =&#123; a: 1, b:2 &#125;;</span></span><br><span class="line"><span class="comment">// let res = getProps(x, &quot;a&quot;);</span></span><br><span class="line"><span class="comment">// // let res = getProps(x, &quot;c&quot;); // 没报错</span></span><br><span class="line"><span class="comment">// console.log(res);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> getProperty&lt;T, K <span class="keyword">extends</span> keyof T&gt;(<span class="attr">obj</span>: T, <span class="attr">key</span>: K) &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="title function_">getProperty</span>(x, <span class="string">&quot;a&quot;</span>); </span><br><span class="line"><span class="comment">// getProperty(x, &quot;c&quot;);  // 报错</span></span><br></pre></td></tr></table></figure>

<h2 id="第八章-一些补充"><a href="#第八章-一些补充" class="headerlink" title="第八章 一些补充"></a>第八章 一些补充</h2><h4 id="1-unknown类型"><a href="#1-unknown类型" class="headerlink" title="1.unknown类型"></a>1.unknown类型</h4><ul>
<li>unknown 类型代表任何值。这与 any 类型类似，但更安全，因为对未知 unknown 值做任何事情都是不合法的。</li>
<li>unknown 类型被称作安全的any</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// unknown 类型代表任何值。这与 any 类型类似，但更安全，因为对未知 unknown 值做任何事情都是不合法的。</span></span><br><span class="line"><span class="comment">// unknown 类型被称作安全的any</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.任何类型都可以赋值给unknown类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">str</span>:<span class="built_in">unknown</span>;</span><br><span class="line">str = <span class="number">18</span>;</span><br><span class="line">str = <span class="string">&quot;张馨予&quot;</span>;</span><br><span class="line">str = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.不能将unknown类型赋值给其它类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">val</span>:<span class="built_in">unknown</span> = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: <span class="built_in">number</span>;</span><br><span class="line"><span class="comment">// num = val; // 报错</span></span><br><span class="line"><span class="comment">// 使用类型断言</span></span><br><span class="line">num = val <span class="keyword">as</span> <span class="built_in">number</span>;</span><br><span class="line"><span class="comment">// 使用类型缩小</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">  num = val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.unknown与其它任何类型组成的交叉类型最后都是其它类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType1</span> = <span class="built_in">number</span> &amp; <span class="built_in">unknown</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType2</span> = <span class="built_in">unknown</span> &amp; <span class="built_in">boolean</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="title class_">MyType1</span> = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>:<span class="title class_">MyType2</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.unknown除了与any以外, 与其它任何类型组成的联合类型最后都是unknown类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType3</span> = <span class="built_in">unknown</span> | <span class="built_in">any</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType4</span> = <span class="built_in">unknown</span> | <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType5</span> = <span class="built_in">unknown</span> | <span class="built_in">string</span> | <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.never类型是unknown类型的子类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType6</span> = <span class="built_in">never</span> <span class="keyword">extends</span> <span class="built_in">unknown</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-map类型"><a href="#2-map类型" class="headerlink" title="2.map类型"></a>2.map类型</h4><p>Map 对象保存键值对，并且能够记住键的原始插入顺序。</p>
<p>任何值(对象或者原始值) 都可以作为一个键或一个值。</p>
<p>Map 是 ES6 中引入的一种新的数据结构</p>
<p>可以使用for of 进行迭代</p>
<p><strong>创建map:</strong></p>
<blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>Map 相关的函数与属性：</strong></p>
<ul>
<li><strong>map.clear()</strong> – 移除 Map 对象的所有键&#x2F;值对 。</li>
<li><strong>map.set()</strong> – 设置键值对，返回该 Map 对象。</li>
<li><strong>map.get()</strong> – 返回键对应的值，如果不存在，则返回 undefined。</li>
<li><strong>map.has()</strong> – 返回一个布尔值，用于判断 Map 中是否包含键对应的值。</li>
<li><strong>map.delete()</strong> – 删除 Map 中的元素，删除成功返回 true，失败返回 false。</li>
<li><strong>map.size</strong> – 返回 Map 对象键&#x2F;值对的数量。</li>
<li><strong>map.keys()</strong> - 返回一个 Iterator 对象， 包含了 Map 对象中每个元素的键 。</li>
<li><strong>map.values()</strong> – 返回一个新的Iterator对象，包含了Map对象中每个元素的值 。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nameSiteMapping = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 设置 Map 对象</span></span><br><span class="line">nameSiteMapping.<span class="title function_">set</span>(<span class="string">&quot;邱淑贞&quot;</span>, <span class="number">1</span>);</span><br><span class="line">nameSiteMapping.<span class="title function_">set</span>(<span class="string">&quot;宋茜&quot;</span>, <span class="number">2</span>);</span><br><span class="line">nameSiteMapping.<span class="title function_">set</span>(<span class="string">&quot;景甜&quot;</span>, <span class="number">3</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 获取键对应的值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping.<span class="title function_">get</span>(<span class="string">&quot;Runoob&quot;</span>));     <span class="comment">// 2</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 判断 Map 中是否包含键对应的值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping.<span class="title function_">has</span>(<span class="string">&quot;Taobao&quot;</span>));       <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping.<span class="title function_">has</span>(<span class="string">&quot;Zhihu&quot;</span>));        <span class="comment">// false</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 返回 Map 对象键/值对的数量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping.<span class="property">size</span>);                <span class="comment">// 3</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 删除 Runoob</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping.<span class="title function_">delete</span>(<span class="string">&quot;Runoob&quot;</span>));    <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping);</span><br><span class="line"><span class="comment">// 移除 Map 对象的所有键/值对</span></span><br><span class="line">nameSiteMapping.<span class="title function_">clear</span>();             <span class="comment">// 清除 Map</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameSiteMapping);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 迭代 Map 中的 key</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> nameSiteMapping.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 迭代 Map 中的 value</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> nameSiteMapping.<span class="title function_">values</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 迭代 Map 中的 key =&gt; value</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> entry <span class="keyword">of</span> nameSiteMapping.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(entry[<span class="number">0</span>], entry[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用对象解析</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> nameSiteMapping) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-索引类型"><a href="#3-索引类型" class="headerlink" title="3.索引类型"></a>3.索引类型</h4><ul>
<li>我们可以使用一个索引访问类型来查询另一个类型上的特定属性</li>
<li>格式: [ key]</li>
<li>注意点: 不会返回null&#x2F;undefined&#x2F;never类型</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我们可以使用一个索引访问类型来查询另一个类型上的特定属性</span></span><br><span class="line"><span class="comment">// 格式: []</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> </span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyIndex</span> = <span class="title class_">Person</span>[<span class="string">&quot;name&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="title class_">MyIndex</span> = <span class="string">&quot;赵韩樱子&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  获取指定对象, 部分属性的值, 放到数组中返回</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;吴倩&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> getValues&lt;T, K <span class="keyword">extends</span> keyof T&gt;(<span class="attr">obj</span>:T, <span class="attr">keys</span>:K[]):T[K][] &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [] <span class="keyword">as</span> T[K][];</span><br><span class="line">  keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span>=&gt;</span>&#123;</span><br><span class="line">      arr.<span class="title function_">push</span>(obj[key]);</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> res = <span class="title function_">getValues</span>(obj, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不会返回null/undefined/never类型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TestInterface</span> &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="attr">c</span>:<span class="built_in">boolean</span>,</span><br><span class="line">    <span class="attr">d</span>:<span class="built_in">symbol</span>,</span><br><span class="line">    <span class="attr">e</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">f</span>:<span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">g</span>:<span class="built_in">never</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span> = <span class="title class_">TestInterface</span>[keyof <span class="title class_">TestInterface</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-条件类型"><a href="#4-条件类型" class="headerlink" title="4.条件类型"></a>4.条件类型</h4><ul>
<li>条件类型的形式看起来有点像JavaScript中的条件表达式</li>
<li>T extends U ? TrueType : FalseType</li>
<li>应用场景: 解决函数重载问题</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.条件类型</span></span><br><span class="line"><span class="comment">// 条件类型的形式看起来有点像JavaScript中的条件表达式</span></span><br><span class="line"><span class="comment">// T extends U ? TrueType : FalseType</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IName</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IAge</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function reLoad(name: string): IName;</span></span><br><span class="line"><span class="comment">// function reLoad(age: number): IAge;</span></span><br><span class="line"><span class="comment">// function reLoad(nameOrAge: string | number): IName | IAge;</span></span><br><span class="line"><span class="comment">// function reLoad(nameOrAge: string | number): IName | IAge &#123;</span></span><br><span class="line"><span class="comment">//   throw &quot;&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 条件类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="built_in">string</span> ?: <span class="built_in">string</span> : <span class="built_in">any</span></span><br><span class="line"><span class="keyword">type</span> res = <span class="title class_">MyType</span>&lt;<span class="built_in">string</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.应用场景：解决函数重载问题</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Condition</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="built_in">string</span> ? <span class="title class_">IName</span> : <span class="title class_">IAge</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> reLoad&lt;T <span class="keyword">extends</span> <span class="built_in">number</span> | <span class="built_in">string</span>&gt;(<span class="attr">idOrName</span>: T): <span class="title class_">Condition</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res1 = <span class="title function_">reLoad</span>(<span class="string">&quot;王丽坤&quot;</span>) </span><br><span class="line"><span class="keyword">let</span> res2 = <span class="title function_">reLoad</span>(<span class="number">100</span>) </span><br></pre></td></tr></table></figure>

<h4 id="5-分布式条件类型"><a href="#5-分布式条件类型" class="headerlink" title="5.分布式条件类型"></a>5.分布式条件类型</h4><ul>
<li>当条件类型作用于一个通用类型时，当给定一个联合类型时，它们就变成了分布式的</li>
<li>通常情况下，分布性是需要的行为。为了避免这种行为，你可以用方括号包围 extends 关键字的每一<br>边。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义：被检测类型是一个联合类型的时候, 该条件类型就被称之为分布式条件类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type MyType&lt;T&gt; = T extends any ? T : never;</span></span><br><span class="line"><span class="comment">// type res = MyType&lt;string | number | boolean&gt;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从T中剔除可以赋值给U的类型。 Exclude</span></span><br><span class="line"><span class="comment">// type res = Exclude&lt;string | number | boolean, number&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 提取T中可以赋值给U的类型。 Extract</span></span><br><span class="line"><span class="comment">// type res = Extract&lt;string | number | boolean, number&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从T中剔除null和undefined。 NonNullable</span></span><br><span class="line"><span class="comment">// type res = NonNullable&lt;string | boolean | null | undefined&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取函数返回值类型。 ReturnType</span></span><br><span class="line"><span class="comment">// type res = ReturnType&lt;()=&gt;number&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取一个类的构造函数参数组成的元组类型。 ConstructorParameters</span></span><br><span class="line"><span class="comment">// class Person &#123;</span></span><br><span class="line"><span class="comment">//     constructor(name:string, age:number)&#123;&#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// type res = ConstructorParameters&lt;typeof Person&gt;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获得函数的参数类型组成的元组类型。 Parameters</span></span><br><span class="line"><span class="comment">// function say(name:string, age:number, gender:boolean) &#123;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// type res = Parameters&lt;typeof say&gt;;</span></span><br></pre></td></tr></table></figure>

<h4 id="6-infer关键字推断"><a href="#6-infer关键字推断" class="headerlink" title="6.infer关键字推断"></a>6.infer关键字推断</h4><ul>
<li>条件类型为我们提供了一种方法来推断我们在真实分支中使用 infer 关键字进行对比的类型</li>
<li>我们可以使用 infer 关键字编写一些有用的辅助类型别名</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 假如想获取数组里的元素类型，如果是数组则返回数组中元素的类型，否则返回这个类型本身</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Id</span> = <span class="built_in">number</span>[];</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IName</span> = <span class="built_in">string</span>[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Unpacked</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="title class_">IName</span> ? <span class="built_in">string</span> : T <span class="keyword">extends</span> <span class="title class_">Id</span> ? <span class="built_in">number</span> : T;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> idType = <span class="title class_">Unpacked</span>&lt;<span class="title class_">Id</span>&gt;; <span class="comment">// idType 类型为 number</span></span><br><span class="line"><span class="keyword">type</span> nameType = <span class="title class_">Unpacked</span>&lt;<span class="title class_">IName</span>&gt;; <span class="comment">// nameType 类型为string</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用infer简化操作</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementOf</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;infer E&gt; ? E : T;</span><br><span class="line"><span class="keyword">type</span> res1 = <span class="title class_">ElementOf</span>&lt;<span class="built_in">string</span>[]&gt;; <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> res2 = <span class="title class_">ElementOf</span>&lt;<span class="built_in">boolean</span>&gt;; <span class="comment">// boolean</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// infer可以推断出联合类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span>&lt;T&gt; = T <span class="keyword">extends</span> &#123; <span class="attr">a</span>: infer U; <span class="attr">b</span>: infer U &#125; ? U : <span class="built_in">never</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T11</span> = <span class="title class_">Foo</span>&lt;&#123; <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125;&gt;; <span class="comment">// T11类型为 string | number</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="7-映射类型"><a href="#7-映射类型" class="headerlink" title="7.映射类型"></a>7.映射类型</h4><ul>
<li>当你不想重复定义类型，一个类型可以以另一个类型为基础创建新类型。通俗的说就是，以一个类型为基础，根据它推断出新的类型</li>
<li>Readonly &#x2F; Partial 关键字</li>
<li>Record &#x2F; Pick 映射类型</li>
<li>Readonly， Partial和 Pick是同态的，但 Record不是。 因为 Record并不需要输入类型来拷贝属性，所以它不属于同态</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当你不想重复定义类型，一个类型可以以另一个类型为基础创建新类型。</span></span><br><span class="line"><span class="comment">// 通俗的说就是，以一个类型为基础，根据它推断出新的类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只读</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Readonly1</span>&lt;T&gt; = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]: T[P];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ReadonlyRes</span> = <span class="title class_">Readonly1</span>&lt;<span class="title class_">IPerson</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Partial1</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PartialRes</span> = <span class="title class_">Partial1</span>&lt;<span class="title class_">IPerson</span>&gt;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 + - 指定添加或者删除</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson2</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> name?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ReadonlyPartial</span>&lt;T&gt; = &#123;</span><br><span class="line">  -<span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]-?: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> res = <span class="title class_">ReadonlyPartial</span>&lt;<span class="title class_">IPerson2</span>&gt;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Readonly/Partial 关键字</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson3</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Readonly</span>&lt;T&gt; = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]: T[P];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Partial</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> res1 = <span class="title class_">Readonly</span>&lt;<span class="title class_">IPerson3</span>&gt;;</span><br><span class="line"><span class="keyword">type</span> res2 = <span class="title class_">Partial</span>&lt;<span class="title class_">IPerson3</span>&gt;;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Record映射类型</span></span><br><span class="line"><span class="comment">// 他会将一个类型的所有属性值都映射到另一个类型上并创造一个新的类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Name</span> = <span class="string">&quot;person&quot;</span> | <span class="string">&quot;animal&quot;</span> ;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// interface IPerson  &#123;</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">//   age: number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NewType</span> = <span class="title class_">Record</span>&lt;<span class="title class_">Name</span>, <span class="title class_">Person</span>&gt;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">res</span>: <span class="title class_">NewType</span> = &#123;</span><br><span class="line">  <span class="attr">person</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;唐艺昕&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">animal</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;云梦&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">0.3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Pick映射类型</span></span><br><span class="line"><span class="comment">// 将原有类型中的部分内容映射到新类型中</span></span><br><span class="line"><span class="comment">// type Info = &#123;</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">//   age: number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IInfo</span>  &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PartProp</span> = <span class="title class_">Pick</span>&lt;<span class="title class_">IInfo</span>, <span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">res2</span>:<span class="title class_">PartProp</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;韩雪&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="8-其他公共类型"><a href="#8-其他公共类型" class="headerlink" title="8.其他公共类型"></a>8.其他公共类型</h4><ul>
<li><p>Required<Type></p>
<p>构建一个由 Type 的所有属性组成的类型，设置为必填。与 Partial 相反</p>
</li>
<li><p>Omit&lt;Type, Keys&gt;</p>
<p>通过从 Type 中选取所有属性，然后删除 Keys （属性名或属性名的联合）来构造一个类型。</p>
</li>
<li><p>OmitThisParameter</p>
<p>从类型T中剔除this参数类型，并构造一个新类型</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Required&lt;Type&gt;</span></span><br><span class="line"><span class="comment">// 构建一个由 Type 的所有属性组成的类型，设置为必填。与 Partial 相反</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">res</span>:<span class="title class_">IPerson</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;舒畅&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">res2</span>: <span class="title class_">Required</span>&lt;<span class="title class_">IPerson</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;舒畅&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Omit&lt;Type, Keys&gt; </span></span><br><span class="line"><span class="comment">// 通过从 Type 中选取所有属性，然后删除 Keys （属性名或属性名的联合）来构造一个类型。</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">  <span class="attr">score</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SProps</span> = <span class="title class_">Omit</span>&lt;<span class="title class_">Student</span>, <span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">res3</span>:<span class="title class_">SProps</span> = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">score</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// OmitThisParameter</span></span><br><span class="line"><span class="comment">// 从类型T中剔除this参数类型，并构造一个新类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f0</span>(<span class="params"><span class="attr">this</span>: <span class="built_in">object</span>, <span class="attr">x</span>: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// (x: number) =&gt; void</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">OmitThisParameter</span>&lt;<span class="keyword">typeof</span> f0&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// (x: number) =&gt; void</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">OmitThisParameter</span>&lt;<span class="keyword">typeof</span> f1&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">OmitThisParameter</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">x</span>: <span class="variable constant_">T0</span> = add;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">y</span>: <span class="variable constant_">T1</span> = add;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">z</span>: <span class="variable constant_">T2</span> = <span class="string">&quot;江疏影&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z)</span><br></pre></td></tr></table></figure>

<h2 id="第九章-TS中的兼容性"><a href="#第九章-TS中的兼容性" class="headerlink" title="第九章     TS中的兼容性"></a>第九章     TS中的兼容性</h2><h4 id="1-自动类型推论"><a href="#1-自动类型推论" class="headerlink" title="1.自动类型推论"></a>1.自动类型推论</h4><ul>
<li><p>根据初始值进行类型推论</p>
<p>不用明确告诉编译器具体是什么类型, 编译器就知道是什么类型</p>
<p>根据初始化值自动推断</p>
<p><strong>注意点：</strong>  如果是先定义在初始化, 那么是无法自动推断的</p>
</li>
<li><p>上下文类型推论</p>
<p>TypeScript类型推论也可能按照相反的方向进行。 这被叫做“按上下文归类”。按上下文归类会发生在表达式的类型与所处的位置相关时</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 最佳类型推断</span></span><br><span class="line"><span class="comment">// 等价于 let uanme: string = &quot;陈乔恩&quot;;</span></span><br><span class="line"><span class="keyword">let</span> uname = <span class="string">&quot;陈乔恩&quot;</span>; </span><br><span class="line">uname = <span class="string">&quot;徐璐&quot;</span></span><br><span class="line"><span class="comment">// uname = 123;  // 报错</span></span><br><span class="line"><span class="comment">// uname = true; // 报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> uage;</span><br><span class="line">uage = <span class="number">123</span>;</span><br><span class="line">uage = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于 let x: (number | null)[] = [0, 1, null];</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="number">0</span>, <span class="number">1</span>, <span class="literal">null</span>];</span><br><span class="line"><span class="comment">// x = [18, 28, 38, null, true];</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 上下文类型推断</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onmousedown</span> = <span class="keyword">function</span> (<span class="params">mouseEvent</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(mouseEvent.<span class="property">button</span>);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h4 id="2-对象类型兼容性"><a href="#2-对象类型兼容性" class="headerlink" title="2.对象类型兼容性"></a>2.对象类型兼容性</h4><ul>
<li>可多不可少</li>
<li>会进行递归检查</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象类型赋值给接口类型</span></span><br><span class="line"><span class="comment">// 注意点: 可多不可少</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">INameTest</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> n1 = &#123;<span class="attr">name</span>: <span class="string">&quot;祝绪丹&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> n2 = &#123;<span class="attr">name</span>: <span class="string">&quot;江疏影&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> n3 = &#123;<span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">val</span>: <span class="title class_">INameTest</span>;</span><br><span class="line">val = n1;</span><br><span class="line">val = n2;</span><br><span class="line"><span class="comment">// val = n3;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意点: 必须一一对应，会进行递归检查</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITestInfo</span> &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">children</span>:&#123;</span><br><span class="line">      <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = &#123;<span class="attr">name</span>:<span class="string">&#x27;吴宣仪&#x27;</span>, <span class="attr">children</span>:&#123;<span class="attr">age</span>:<span class="number">18</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> p2 = &#123;<span class="attr">name</span>:<span class="string">&#x27;陈小纭&#x27;</span>,<span class="attr">children</span>:&#123;<span class="attr">age</span>:<span class="literal">true</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">t</span>:<span class="title class_">ITestInfo</span>;</span><br><span class="line">t = p1;</span><br><span class="line"><span class="comment">// t = p2; </span></span><br></pre></td></tr></table></figure>

<h4 id="3-函数类型兼容性"><a href="#3-函数类型兼容性" class="headerlink" title="3.函数类型兼容性"></a>3.函数类型兼容性</h4><ul>
<li>参数个数</li>
<li>参数类型</li>
<li>参数返回值</li>
<li>双向协变</li>
<li>函数重载</li>
<li>可选参数及剩余参数</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 参数个数</span></span><br><span class="line"><span class="comment">// 注意点: 可少不可多</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let func1 = (a:number, b:number) =&gt; &#123;&#125;;</span></span><br><span class="line"><span class="comment">let func2 = (x:number) =&gt; &#123;&#125;;</span></span><br><span class="line"><span class="comment">func1 = func2;</span></span><br><span class="line"><span class="comment">func2 = func1; </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 参数类型</span></span><br><span class="line"><span class="comment">// 注意点: 参数类型必须相同</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let func1 = (x:number)=&gt;&#123;&#125;;</span></span><br><span class="line"><span class="comment">let func2 = (x:number)=&gt;&#123;&#125;;</span></span><br><span class="line"><span class="comment">let func3 = (x:string)=&gt;&#123;&#125;;</span></span><br><span class="line"><span class="comment">func1 = func2;</span></span><br><span class="line"><span class="comment">func2 = func1;</span></span><br><span class="line"><span class="comment">func1 = func3; </span></span><br><span class="line"><span class="comment">func3 = func1;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型</span></span><br><span class="line"><span class="comment">// 注意点: 返回值类型必须相同</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let func1 = ():number=&gt; 18;</span></span><br><span class="line"><span class="comment">let func2 = ():number=&gt; 28;</span></span><br><span class="line"><span class="comment">let func3 = ():string=&gt; &#x27;TS真好玩&#x27;;</span></span><br><span class="line"><span class="comment">func1 = func2;</span></span><br><span class="line"><span class="comment">func2 = func1;</span></span><br><span class="line"><span class="comment">func1 = func3; </span></span><br><span class="line"><span class="comment">func3 = func1;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数双向协变</span></span><br><span class="line"><span class="comment">// 1.参数的双向协变</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let func1 = (x:(number | string)) =&gt;&#123;&#125;;</span></span><br><span class="line"><span class="comment">let func2 = (x:number) =&gt;&#123;&#125;;</span></span><br><span class="line"><span class="comment">func1 = func2;</span></span><br><span class="line"><span class="comment">func2 = func1;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.返回值双向协变</span></span><br><span class="line"><span class="comment">// 不能将返回值是联合类型的赋值给具体类型的</span></span><br><span class="line"><span class="comment">// 可以将返回值是具体类型的赋值给联合类型的</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let func1 = (x:boolean):(number | string) =&gt; x ? 18 : &#x27;张含韵&#x27;;</span></span><br><span class="line"><span class="comment">let func2 = (x:boolean):number =&gt; 28;</span></span><br><span class="line"><span class="comment">// func1 = func2; </span></span><br><span class="line"><span class="comment">func2 = func1;</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数重载</span></span><br><span class="line"><span class="comment">// 不能将重载少的赋值给重载多的</span></span><br><span class="line"><span class="comment">// 可以将重载多的赋值给重载少</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">function add(x:number, y:number):number;</span></span><br><span class="line"><span class="comment">function add(x:string, y:string):string;</span></span><br><span class="line"><span class="comment">function add(x, y) &#123;</span></span><br><span class="line"><span class="comment">    return x + y;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">function sub(x:number, y:number):number;</span></span><br><span class="line"><span class="comment">function sub(x, y) &#123;</span></span><br><span class="line"><span class="comment">    return x - y;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// let fn = add;</span></span><br><span class="line"><span class="comment">// fn = sub; </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let fn = sub;</span></span><br><span class="line"><span class="comment">fn = add; </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选参数及剩余参数</span></span><br><span class="line"><span class="comment">// 当一个函数有剩余参数时，它被当做无限个可选参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"><span class="attr">args</span>: <span class="built_in">any</span>[], <span class="attr">callback</span>: (...args: <span class="built_in">any</span>[]) =&gt; <span class="built_in">void</span></span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func</span>([<span class="number">1</span>, <span class="number">2</span>], <span class="function">(<span class="params">x, y, z</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(x + <span class="string">&#x27;, &#x27;</span> + y + z));</span><br><span class="line"><span class="title function_">func</span>([<span class="number">1</span>, <span class="number">2</span>], <span class="function">(<span class="params">x?, y?</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(x + <span class="string">&#x27;, &#x27;</span> + y));</span><br><span class="line"><span class="title function_">func</span>([<span class="number">1</span>, <span class="number">2</span>], <span class="function">(<span class="params">x, y?, z?</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(x + <span class="string">&#x27;, &#x27;</span> + y));</span><br></pre></td></tr></table></figure>

<h4 id="4-枚举类型知识点补充"><a href="#4-枚举类型知识点补充" class="headerlink" title="4.枚举类型知识点补充"></a>4.枚举类型知识点补充</h4><p>TS中支持两种枚举, 一种是数字枚举, 一种是字符串枚举</p>
<ul>
<li><p>数字枚举</p>
<blockquote>
<p>1.数字枚举的取值可以是字面量, 也可以是常量, 也可以是计算的结果</p>
<p>2.如果采用字面量对第一个成员进行赋值，下面的成员会自动递增</p>
<p>3.如果采用常量或计算结果进行赋值，则下面的成员也必须初始化</p>
</blockquote>
</li>
<li><p>字符串枚举</p>
<blockquote>
<p>1.如果采用字面量对第一个成员进行赋值，下面的成员也必须赋值</p>
<p>2.采用[index]的形式不能获取到内容,需要传入[key]</p>
<p>3.字符串枚举不能使用常量或者计算结果给枚举值赋值</p>
<p>4.它可以使用内部的其它枚举值来赋值</p>
</blockquote>
</li>
<li><p>异构枚举：枚举中既包含数字又包含字符串, 我们就称之为异构枚举</p>
<pre><code>&gt; 1.如果是字符串枚举, 那么无法通过原始值获取到枚举值
</code></pre>
</li>
<li><p>把枚举成员当做类型来使用</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TS中支持两种枚举, 一种是数字枚举, 一种是字符串枚举</span></span><br><span class="line"><span class="comment">// 1.数字枚举</span></span><br><span class="line"><span class="comment">// 默认情况下就是数字枚举</span></span><br><span class="line"><span class="comment">// 注意点: 1.数字枚举的取值可以是字面量, 也可以是常量, 也可以是计算的结果</span></span><br><span class="line"><span class="comment">//        2.如果采用字面量对第一个成员进行赋值，下面的成员会自动递增</span></span><br><span class="line"><span class="comment">//        3.如果采用常量或计算结果进行赋值，则下面的成员也必须初始化</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// enum Gender&#123;</span></span><br><span class="line"><span class="comment">//     Male,</span></span><br><span class="line"><span class="comment">//     Female</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// console.log(Gender.Male);</span></span><br><span class="line"><span class="comment">// console.log(Gender.Female);</span></span><br><span class="line"><span class="comment">// console.log(Gender[0]);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// const val = 100;</span></span><br><span class="line"><span class="comment">// const num = () =&gt; 200;</span></span><br><span class="line"><span class="comment">// enum Gender&#123;</span></span><br><span class="line"><span class="comment">//   // Male = 1,</span></span><br><span class="line"><span class="comment">//   // Female</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   Male = val,</span></span><br><span class="line"><span class="comment">//   Female = num()</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.字符串枚举</span></span><br><span class="line"><span class="comment">// 注意点: 1.如果采用字面量对第一个成员进行赋值，下面的成员也必须赋值</span></span><br><span class="line"><span class="comment">//        2.采用[index]的形式不能获取到内容,需要传入[key]</span></span><br><span class="line"><span class="comment">//        3.字符串枚举不能使用常量或者计算结果给枚举值赋值</span></span><br><span class="line"><span class="comment">//        4.它可以使用内部的其它枚举值来赋值</span></span><br><span class="line"><span class="comment">// enum Direction &#123;</span></span><br><span class="line"><span class="comment">//   up = &quot;UP&quot;,</span></span><br><span class="line"><span class="comment">//   down = &quot;DOWN&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// console.log(Direction.up);</span></span><br><span class="line"><span class="comment">// console.log(Direction.down);</span></span><br><span class="line"><span class="comment">// console.log(Direction[0]); // undefined</span></span><br><span class="line"><span class="comment">// console.log(Direction[&quot;up&quot;]); // UP</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const val = &quot;金晨&quot;;</span></span><br><span class="line"><span class="comment">// const res = () =&gt; &quot;王鸥&quot;;</span></span><br><span class="line"><span class="comment">// enum User &#123;</span></span><br><span class="line"><span class="comment">//   // a = val,</span></span><br><span class="line"><span class="comment">//   // b = res()</span></span><br><span class="line"><span class="comment">//    c = &quot;HTML&quot;,</span></span><br><span class="line"><span class="comment">//    d = c</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.异构枚举</span></span><br><span class="line"><span class="comment">// 枚举中既包含数字又包含字符串, 我们就称之为异构枚举</span></span><br><span class="line"><span class="comment">// 注意点: 如果是字符串枚举, 那么无法通过原始值获取到枚举值</span></span><br><span class="line"><span class="comment">// enum Gender&#123;</span></span><br><span class="line"><span class="comment">//   Male = 1,</span></span><br><span class="line"><span class="comment">//   Female = &#x27;女&#x27;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(Gender.Male);</span></span><br><span class="line"><span class="comment">// console.log(Gender.Female);</span></span><br><span class="line"><span class="comment">// console.log(Gender[1]);</span></span><br><span class="line"><span class="comment">// console.log(Gender[&#x27;女&#x27;]);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.把枚举成员当做类型来使用</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123;</span><br><span class="line">  <span class="title class_">Male</span> ,</span><br><span class="line">  <span class="title class_">Female</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITestInterface</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="title class_">Gender</span> <span class="comment">// age: (Gender.Male | Gender.Female)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">ITestInterface</span>&#123;</span><br><span class="line">  <span class="comment">// age: Gender.Male</span></span><br><span class="line">  <span class="attr">age</span>: <span class="title class_">Gender</span>.<span class="property">Female</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-枚举类型兼容性"><a href="#5-枚举类型兼容性" class="headerlink" title="5.枚举类型兼容性"></a>5.枚举类型兼容性</h4><ul>
<li>数字枚举与数字兼容</li>
<li>数字枚举与数字枚举不兼容</li>
<li>字符串枚举与字符串不兼容</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字枚举与数字兼容</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">enum Gender&#123;</span></span><br><span class="line"><span class="comment">    Male,</span></span><br><span class="line"><span class="comment">    Female</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">let value:Gender;</span></span><br><span class="line"><span class="comment">value = Gender.Male;</span></span><br><span class="line"><span class="comment">value = 100;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字枚举与数字枚举不兼容</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">enum Gender&#123;</span></span><br><span class="line"><span class="comment">    Male, // 0</span></span><br><span class="line"><span class="comment">    Female // 1</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">enum Animal&#123;</span></span><br><span class="line"><span class="comment">    Dog, // 0</span></span><br><span class="line"><span class="comment">    Cat // 1</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">let value:Gender;</span></span><br><span class="line"><span class="comment">value = Gender.Male;</span></span><br><span class="line"><span class="comment">value = Animal.Dog; // 报错</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串枚举与字符串不兼容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// enum Gender&#123;</span></span><br><span class="line"><span class="comment">//     Male = &#x27;张若昀&#x27;,</span></span><br><span class="line"><span class="comment">//     Female  = &#x27;唐艺昕&#x27;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// let value:Gender;</span></span><br><span class="line"><span class="comment">// value = Gender.Male;</span></span><br><span class="line"><span class="comment">// value = Gender.Female;</span></span><br><span class="line"><span class="comment">// value = &quot;娃嘻嘻&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="6-类的兼容性"><a href="#6-类的兼容性" class="headerlink" title="6.类的兼容性"></a>6.类的兼容性</h4><p>类的工作方式与对象字面类型和接口类似，但有一个例外：它们同时具有静态和实例类型。当比较一个<br>类类型的两个对象时，只有实例的成员被比较。静态成员和构造函数不影响兼容性。</p>
<p>一个类中的私有成员和保护成员会影响其兼容性。当一个类的实例被检查兼容性时，如果目标类型包含<br>一个私有成员，那么源类型也必须包含一个源自同一类的私有成员。同样地，这也适用于有保护成员的<br>实例。这允许一个类与它的超类进行赋值兼容，但不允许与来自不同继承层次的类进行赋值兼容，否则<br>就会有相同的形状。</p>
<ul>
<li>public: 可多不可少</li>
<li>private &#x2F; protected: 不能互相赋值</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// public</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class Animal &#123;</span></span><br><span class="line"><span class="comment">  feet: number;</span></span><br><span class="line"><span class="comment">  age: number;</span></span><br><span class="line"><span class="comment">  constructor(name: string, numFeet: number) &#123;&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">class Size &#123;</span></span><br><span class="line"><span class="comment">  feet: number;</span></span><br><span class="line"><span class="comment">  constructor(numFeet: number) &#123;&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// 可多不可少</span></span><br><span class="line"><span class="comment">let a: Animal;</span></span><br><span class="line"><span class="comment">let s: Size;</span></span><br><span class="line"><span class="comment">s = a; // 正确</span></span><br><span class="line"><span class="comment">a = s; // 错误</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// private / protected</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class Animal &#123;</span></span><br><span class="line"><span class="comment">  private feet: number;</span></span><br><span class="line"><span class="comment">  constructor(name: string, numFeet: number) &#123;&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">class Size &#123;</span></span><br><span class="line"><span class="comment">  private feet: number;</span></span><br><span class="line"><span class="comment">  constructor(numFeet: number) &#123;&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let a: Animal;</span></span><br><span class="line"><span class="comment">let s: Size;</span></span><br><span class="line"><span class="comment">s = a; // 错误</span></span><br><span class="line"><span class="comment">a = s; // 错误</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="7-泛型的兼容性"><a href="#7-泛型的兼容性" class="headerlink" title="7.泛型的兼容性"></a>7.泛型的兼容性</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 因为TypeScript是一个结构化的类型系统，类型参数只在作为成员类型的一部分被消耗时影响到结果类型。</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">interface Empty&lt;T&gt; &#123;&#125;</span></span><br><span class="line"><span class="comment">let x: Empty&lt;number&gt;;</span></span><br><span class="line"><span class="comment">let y: Empty&lt;string&gt;;</span></span><br><span class="line"><span class="comment">x = y; // 正确，因为y符合x的结构</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在上面， x 和 y 是兼容的，因为它们的结构没有以区分的方式使用类型参数。通过给 Empty&lt;T&gt; 增加一</span></span><br><span class="line"><span class="comment">// 个成员来改变这个例子，显示了这是如何工作的</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">interface NotEmpty&lt;T&gt; &#123;</span></span><br><span class="line"><span class="comment">   data: T;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> let x: NotEmpty&lt;number&gt;;</span></span><br><span class="line"><span class="comment"> let y: NotEmpty&lt;string&gt;;</span></span><br><span class="line"><span class="comment"> x = y; // 错误，因为x和y不兼容</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



<h2 id="第十章-装饰器"><a href="#第十章-装饰器" class="headerlink" title="第十章 装饰器"></a>第十章 装饰器</h2><p>介绍：装饰器是一种特殊类型的声明，它能够被附加到类，方法， 访问器，属性或参数上。用 <code>@</code>添加</p>
<p>​           装饰器本质上还是一个函数，在别的语言中已广泛使用，如： python, 但在TS中依旧为一个测试中的版本，若要启	   用实验性的装饰器特性，你必须在命令行或<code>tsconfig.json</code>里启用<code>experimentalDecorators</code>编译器选</p>
<p>​	  若要启用实验性的装饰器特性，你必须在命令行或<code>tsconfig.json</code>里启用<code>experimentalDecorators</code>编译器选项</p>
<blockquote>
<p>添加到类上, 类装饰器</p>
<p>添加到方法上,方法装饰器</p>
<p>添加到访问器上,访问器装饰器</p>
<p>添加到属性上,属性装饰器</p>
<p>添加到参数上,参数装饰器</p>
</blockquote>
<p><strong>装饰器工厂</strong>：如果我们要定制一个修饰器如何应用到一个声明上，我们得写一个装饰器工厂函数。 <em>装饰器工厂</em>就是一个简		     单的函数，它返回一个表达式，以供装饰器在运行时调用</p>
<h4 id="1-类的装饰器"><a href="#1-类的装饰器" class="headerlink" title="1.类的装饰器"></a>1.类的装饰器</h4><ul>
<li>类装饰器就在类声明之前被声明</li>
<li>类装饰器被应用于类的构造函数，可以用来观察、修改或替换类定义</li>
<li>类装饰器不能用在声明文件中( .d.ts)，也不能用在任何外部上下文中（比如declare的类）</li>
<li>类装饰器表达式会在运行时当作函数被调用，类的构造函数作为其唯一的参数</li>
<li>如果类装饰器返回一个值，它会使用提供的构造函数来替换类的声明。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.类装饰器</span></span><br><span class="line"><span class="comment">//  类装饰器就在类声明之前被声明</span></span><br><span class="line"><span class="comment">//  类装饰器被应用于类的构造函数，可以用来观察、修改或替换类定义</span></span><br><span class="line"><span class="comment">//  类装饰器不能用在声明文件中( .d.ts)，也不能用在任何外部上下文中（比如declare的类）</span></span><br><span class="line"><span class="comment">//  类装饰器表达式会在运行时当作函数被调用，类的构造函数作为其唯一的参数</span></span><br><span class="line"><span class="comment">//  如果类装饰器返回一个值，它会使用提供的构造函数来替换类的声明。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* function testDecorator(constructor: any) &#123;</span></span><br><span class="line"><span class="comment">  constructor.prototype.uname = &quot;张予曦&quot;</span></span><br><span class="line"><span class="comment">  constructor.prototype.show = ():void =&gt; &#123;</span></span><br><span class="line"><span class="comment">    console.log(`我是$&#123;constructor.prototype.uname&#125;`);</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@testDecorator</span></span><br><span class="line"><span class="comment">class Person &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let p = new Person();</span></span><br><span class="line"><span class="comment">(p as any).show();</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用工厂函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testDecorator</span>(<span class="params"><span class="attr">flag</span>: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"><span class="attr">constructor</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">      constructor.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">uname</span> = <span class="string">&quot;张予曦&quot;</span>;</span><br><span class="line">      constructor.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">show</span> = (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我是<span class="subst">$&#123;constructor.prototype.uname&#125;</span>`</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"><span class="attr">constructor</span>: <span class="built_in">any</span></span>) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@testDecorator</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">(p <span class="keyword">as</span> <span class="built_in">any</span>).<span class="title function_">show</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数可以接收很多的参数，参数类型都是any,将他们放在一个数组中</span></span><br><span class="line"><span class="comment">// T 就相当于一个类，里面有构造函数</span></span><br><span class="line"><span class="comment">/* function testDecorator&lt;T extends new(...args: any[]) =&gt; &#123;&#125;&gt;(constructor: T) &#123;</span></span><br><span class="line"><span class="comment">  // 直接对 constructor 做扩展</span></span><br><span class="line"><span class="comment">  return class extends constructor &#123;</span></span><br><span class="line"><span class="comment">    name = &quot;章若楠&quot;;</span></span><br><span class="line"><span class="comment">    show() &#123;</span></span><br><span class="line"><span class="comment">      console.log(this.name);</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@testDecorator</span></span><br><span class="line"><span class="comment">class Person &#123;</span></span><br><span class="line"><span class="comment">  name: string;</span></span><br><span class="line"><span class="comment">  constructor(name: string) &#123;</span></span><br><span class="line"><span class="comment">    this.name = name;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let p = new Person(&quot;陈意涵&quot;);</span></span><br><span class="line"><span class="comment">console.log(p);</span></span><br><span class="line"><span class="comment">(p as any).show()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testDecorator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> &lt;T <span class="keyword">extends</span> <span class="title function_">new</span> (...<span class="attr">args</span>: <span class="built_in">any</span>[]) =&gt; &#123;&#125;&gt;(<span class="attr">constructor</span>: T) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> <span class="title class_">extends</span> constructor &#123;</span><br><span class="line">      name = <span class="string">&quot;章若楠&quot;</span>;</span><br><span class="line">      <span class="title function_">show</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Person</span> = <span class="title function_">testDecorator</span>()(<span class="keyword">class</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// class Person &#123;</span></span><br><span class="line"><span class="comment">//   name: string;</span></span><br><span class="line"><span class="comment">//   constructor(name: string) &#123;</span></span><br><span class="line"><span class="comment">//     this.name = name;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;陈意涵&quot;</span>);</span><br><span class="line">p.<span class="title function_">show</span>();</span><br></pre></td></tr></table></figure>

<h4 id="2-方法装饰器"><a href="#2-方法装饰器" class="headerlink" title="2.方法装饰器"></a>2.方法装饰器</h4><ul>
<li>方法装饰器写在在一个方法的声明之前</li>
<li>方法装饰器可以用来监视，修改或者替换方法定义。</li>
<li>方法装饰器表达式会在运行时当作函数被调用，传入下列3个参数：<ul>
<li>静态成员的类的构造函数，或者实例成员的类的原型</li>
<li>成员的名称</li>
<li>该成员的属性描述符</li>
</ul>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通方法: target对应的就是 prototype</span></span><br><span class="line"><span class="comment">// 静态方法: target对应的就是 类的构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getNameDecorator</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">descriptor</span>: <span class="title class_">PropertyDescriptor</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(descriptor);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// descriptor.writable = false;</span></span><br><span class="line">  descriptor.<span class="property">value</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;decorator&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;郑合惠子&quot;</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@getNameDecorator</span></span><br><span class="line">  <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">show</span>():<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello MethodDecorator&quot;</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line"><span class="comment">// t.getName = () =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   return &quot;Hello 张雪迎&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t.<span class="title function_">getName</span>());</span><br></pre></td></tr></table></figure>

<h4 id="3-访问器的装饰器"><a href="#3-访问器的装饰器" class="headerlink" title="3.访问器的装饰器"></a>3.访问器的装饰器</h4><p><em>访问器装饰器</em>声明在一个访问器的声明之前（紧靠着访问器声明）。 访问器装饰器应用于访问器的 <em>属性描述符</em>并且可以用来监视，修改或替换一个访问器的定义。 访问器装饰器不能用在声明文件中（.d.ts），或者任何外部上下文（比如 <code>declare</code>的类）里。</p>
<ul>
<li>方法装饰器表达式会在运行时当作函数被调用，传入下列3个参数：<ul>
<li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li>
<li>成员的名字。</li>
<li>成员的名字。</li>
</ul>
</li>
<li>TypeScript不允许同时装饰一个成员的get和set访问器。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">visitDecorator</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">descriptor</span>: <span class="title class_">PropertyDescriptor</span></span>) &#123;</span><br><span class="line">  descriptor.<span class="property">writable</span> = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">_name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">name</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@visitDecorator</span></span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">name</span>(<span class="params"><span class="attr">newName</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_name</span> = newName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&quot;周雨彤&quot;</span>);</span><br><span class="line">t.<span class="property">name</span> = <span class="string">&quot;钟楚曦&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>

<h4 id="4-属性的装饰器"><a href="#4-属性的装饰器" class="headerlink" title="4.属性的装饰器"></a>4.属性的装饰器</h4><ul>
<li><p>属性装饰器写在一个属性声明之前（紧靠着属性声明）</p>
</li>
<li><p>属性装饰器表达式会在运行时当作函数被调用，传入下列2个参数：</p>
<ul>
<li>对于静态属性来说就是当前的类, 对于实例属性来说就是当前实例</li>
<li>成员的名字</li>
</ul>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* function nameDecorator(target: any, key: string): any &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Test &#123;</span></span><br><span class="line"><span class="comment">  @nameDecorator</span></span><br><span class="line"><span class="comment">  name = &quot;任敏&quot;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let t = new Test();</span></span><br><span class="line"><span class="comment">t.name = &quot;周洁琼&quot;</span></span><br><span class="line"><span class="comment">console.log(t.name);</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">nameDecorator</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">key</span>: <span class="built_in">string</span></span>): <span class="built_in">any</span> &#123;</span><br><span class="line">  <span class="comment">// const descriptor: PropertyDescriptor = &#123;</span></span><br><span class="line">  <span class="comment">//   writable: false</span></span><br><span class="line">  <span class="comment">// &#125;;</span></span><br><span class="line">  <span class="comment">// return descriptor;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 修改的并不是实例上的 name， 而是原型上的 name</span></span><br><span class="line">  target[key] = <span class="string">&#x27;秦岚&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="meta">@nameDecorator</span></span><br><span class="line">  <span class="comment">// name 是放在实例上的</span></span><br><span class="line">  name = <span class="string">&quot;任敏&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">t.<span class="property">name</span> = <span class="string">&quot;周洁琼&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((t <span class="keyword">as</span> <span class="built_in">any</span>).<span class="property">__proto__</span>.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>

<h4 id="5-参数装饰器"><a href="#5-参数装饰器" class="headerlink" title="5.参数装饰器"></a>5.参数装饰器</h4><ul>
<li><em>参数装饰器</em>声明在一个参数声明之前（紧靠着参数声明)</li>
<li>参数装饰器应用于类构造函数或方法声明</li>
<li>数装饰器不能用在声明文件（.d.ts），重载或其它外部上下文（比如 <code>declare</code>的类）里</li>
<li>参数装饰器表达式会在运行时当作函数被调用，传入下列3个参数:<ul>
<li>对于静态成员来说是当前的类，对于实例成员是当前实例。</li>
<li>参数所在的方法名称。</li>
<li>参数在参数列表中的索引。</li>
</ul>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">paramDecorator</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">method</span>: <span class="built_in">string</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(target, method, index);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="title function_">getInfo</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="meta">@paramDecorator</span> <span class="attr">age</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name, age);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">t.<span class="title function_">getInfo</span>(<span class="string">&#x27;安悦溪&#x27;</span>, <span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<h4 id="6-小案例"><a href="#6-小案例" class="headerlink" title="6.小案例"></a>6.小案例</h4><ul>
<li>需求: 利用装饰器来避免多次书写 try{} catch(e) {}</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* const userInfo: any = undefined;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Test &#123;</span></span><br><span class="line"><span class="comment">  getName() &#123;</span></span><br><span class="line"><span class="comment">    try &#123;</span></span><br><span class="line"><span class="comment">      return userInfo.name;</span></span><br><span class="line"><span class="comment">    &#125; catch (e) &#123;</span></span><br><span class="line"><span class="comment">      console.log(e);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  getAge() &#123;</span></span><br><span class="line"><span class="comment">    try &#123;</span></span><br><span class="line"><span class="comment">      return userInfo.age;</span></span><br><span class="line"><span class="comment">    &#125; catch (e) &#123;</span></span><br><span class="line"><span class="comment">      console.log(e);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">const t = new Test();</span></span><br><span class="line"><span class="comment">t.getName();</span></span><br><span class="line"><span class="comment">t.getAge(); */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* const userInfo: any = undefined;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">function catchError(target: any, key: string, descriptor: PropertyDescriptor) &#123;</span></span><br><span class="line"><span class="comment">  const fn = descriptor.value;</span></span><br><span class="line"><span class="comment">  descriptor.value = function () &#123;</span></span><br><span class="line"><span class="comment">    try &#123;</span></span><br><span class="line"><span class="comment">      fn();</span></span><br><span class="line"><span class="comment">    &#125; catch (e) &#123;</span></span><br><span class="line"><span class="comment">      console.log(&quot;userInfo上该属性不存在&quot;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  &#125;;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Test &#123;</span></span><br><span class="line"><span class="comment">  @catchError</span></span><br><span class="line"><span class="comment">  getName() &#123;</span></span><br><span class="line"><span class="comment">    return userInfo.name;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  @catchError</span></span><br><span class="line"><span class="comment">  getAge() &#123;</span></span><br><span class="line"><span class="comment">    return userInfo.age;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">const t = new Test();</span></span><br><span class="line"><span class="comment">t.getName();</span></span><br><span class="line"><span class="comment">t.getAge(); */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userInfo</span>: <span class="built_in">any</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">catchError</span>(<span class="params"><span class="attr">msg</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">descriptor</span>: <span class="title class_">PropertyDescriptor</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> fn = descriptor.<span class="property">value</span>;</span><br><span class="line">    descriptor.<span class="property">value</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="title function_">fn</span>();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(msg);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="meta">@catchError</span>(<span class="string">&#x27;userInfo.name 不存在&#x27;</span>)</span><br><span class="line">  <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> userInfo.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@catchError</span>(<span class="string">&#x27;userInfo.age 不存在&#x27;</span>)</span><br><span class="line">  <span class="title function_">getAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> userInfo.<span class="property">age</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">t.<span class="title function_">getName</span>();</span><br><span class="line">t.<span class="title function_">getAge</span>();</span><br></pre></td></tr></table></figure>



<h2 id="第十一章-混入Mixins"><a href="#第十一章-混入Mixins" class="headerlink" title="第十一章 混入Mixins"></a>第十一章 混入Mixins</h2><p><strong>介绍</strong>:  除了传统的面向对象继承方式，还流行一种通过可重用组件创建类的方式，就是联合另一个简单类的代码。 你可能在Scala等语言里对mixins及其特性已经很熟悉了，但它在JavaScript中也是很流行的。</p>
<p><strong>作用</strong>:  解决TS中继承一次只能继承一个类的问题</p>
<p><strong>注意点:</strong> 类的混入不能混入属性名</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象混入</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* let nameObj = &#123; name:&#x27;王楚然&#x27; &#125;;</span></span><br><span class="line"><span class="comment">let ageObj = &#123; age:18 &#125;;</span></span><br><span class="line"><span class="comment">// 需求: 想要让nameObj拥有age属性</span></span><br><span class="line"><span class="comment">Object.assign(nameObj, ageObj);</span></span><br><span class="line"><span class="comment">console.log(nameObj);</span></span><br><span class="line"><span class="comment">console.log(ageObj); */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类混入</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Name</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;毛晓彤&quot;</span>;</span><br><span class="line">  <span class="title function_">getName</span>():<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我是毛晓彤&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Age</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">18</span>;</span><br><span class="line">  <span class="title function_">getAge</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我今年18岁&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// class Person extends Name, Age &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Name</span>, <span class="title class_">Age</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">getAge</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">getName</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Mixins</span>(<span class="params"><span class="attr">target</span>: <span class="built_in">any</span>, <span class="attr">from</span>: <span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">  <span class="comment">// console.log(target);</span></span><br><span class="line">  <span class="comment">// console.log(from);</span></span><br><span class="line">  <span class="keyword">from</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(item);</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(item.<span class="property"><span class="keyword">prototype</span></span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">      target.<span class="property"><span class="keyword">prototype</span></span>[name] = item.<span class="property"><span class="keyword">prototype</span></span>[name];</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Mixins</span>(<span class="title class_">Person</span>, [<span class="title class_">Name</span>, <span class="title class_">Age</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p.<span class="title function_">getAge</span>();</span><br><span class="line">p.<span class="title function_">getName</span>();</span><br><span class="line"><span class="comment">// console.log(p.name);</span></span><br><span class="line"><span class="comment">// console.log(p.age);</span></span><br></pre></td></tr></table></figure>

<h2 id="第十二章-模块与命名空间"><a href="#第十二章-模块与命名空间" class="headerlink" title="第十二章 模块与命名空间"></a>第十二章 模块与命名空间</h2><h4 id="1-TS中的模块"><a href="#1-TS中的模块" class="headerlink" title="1.TS中的模块"></a>1.TS中的模块</h4><p>TypeScript 模块的设计理念是可以更换的组织代码。</p>
<p>两个模块之间的关系是通过在文件级别上使用 import 和 export 建立的</p>
<p>模块使用模块加载器去导入其它的模块。 在运行时，模块加载器的作用是在执行此模块代码前去查找并执行这个模块的所有依赖。 大家最熟知的JavaScript模块加载器是服务于 Node.js 的 CommonJS 和服务于 Web 应用的 Require.js。</p>
<p>模块导出使用关键字 <strong>export</strong> 关键字，语法格式如下：</p>
<blockquote>
<p>&#x2F;&#x2F; 文件名 : SomeInterface.ts<br>export interface SomeInterface {<br>&#x2F;&#x2F; 代码部分<br>}</p>
</blockquote>
<p>要在另外一个文件使用该模块就需要使用 <strong>import</strong> 关键字来导入:</p>
<blockquote>
<p>import someInterfaceRef &#x3D; require(“.&#x2F;SomeInterface”);</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// moduleTest.ts中的代码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Iperson</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">show</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;陈都灵&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JS中的模块</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.默认导入与导出</span></span><br><span class="line"><span class="comment">// 注意点: 这里导入和导出的名字，可以不一致</span></span><br><span class="line"><span class="comment">export default xxx</span></span><br><span class="line"><span class="comment">import ooo from &quot;路径&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">1.按需导入与导出</span></span><br><span class="line"><span class="comment">注意点: 这里导入和导出的名字必须一致</span></span><br><span class="line"><span class="comment">export xxx;</span></span><br><span class="line"><span class="comment">import &#123;xxx&#125; from &quot;路径&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node中的模块</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">1.exports.xxx = xxx</span></span><br><span class="line"><span class="comment">const xxx = require(&quot;path&quot;);</span></span><br><span class="line"><span class="comment">const &#123;xx, xx&#125; = require(&quot;path&quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.module.exports.xxx = xxx</span></span><br><span class="line"><span class="comment">const xxx = require(&quot;path&quot;);</span></span><br><span class="line"><span class="comment">const &#123;xx, xx&#125; = require(&quot;path&quot;);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.TS中的模块</span></span><br><span class="line"><span class="comment">// 默认在JS中是不兼容上面两种混合使用的，而JS中兼容混合写法</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Test</span> = <span class="built_in">require</span>(<span class="string">&quot;./moduleTest&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">UserInfo</span> <span class="keyword">implements</span> <span class="title class_">Test</span>.<span class="property">Iperson</span> &#123; </span><br><span class="line">  name = <span class="string">&quot;高圆圆&quot;</span>;</span><br><span class="line">  age = <span class="number">18</span>;</span><br><span class="line">  sex = <span class="string">&quot;女&quot;</span>;</span><br><span class="line">  <span class="title function_">show</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> u = <span class="keyword">new</span> <span class="title class_">UserInfo</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; obj &#125; <span class="keyword">from</span> <span class="string">&quot;./moduleTest&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure>

<h4 id="2-TS中的命名空间"><a href="#2-TS中的命名空间" class="headerlink" title="2.TS中的命名空间"></a>2.TS中的命名空间</h4><p>项目开发过程中，我们会发现我们的命名是有严格规范的，我们不能随意的去起名字，但若是都采用尽量标准化的方式去命名，我们又无法避免的会造成污染，TypeScript提供了namespace 避免这个问题出现</p>
<ul>
<li>在TS1.5之前被叫做内部模块，主要用于组织代码，避免命名冲突</li>
<li>本质就是定义一个大对象, 把变量&#x2F;方法&#x2F;类&#x2F;接口…的都放里面</li>
<li>通过 <code>export</code> 导出</li>
<li>通过 <code>namespace</code> 定义</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(A.<span class="property">a</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 嵌套命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">B</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> b = <span class="number">200</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">C</span> &#123;</span><br><span class="line">    <span class="comment">// export const b = 300;</span></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">const</span> c = <span class="number">300</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(B.<span class="property">b</span>);</span><br><span class="line"><span class="comment">// console.log(B.C.b);</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(B.<span class="property">C</span>.<span class="property">c</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简化命名空间</span></span><br><span class="line"><span class="keyword">import</span> c = B.<span class="property">C</span>.<span class="property">c</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// namespaceTest.ts内容</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">D</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">const</span> d = <span class="number">1000</span>;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="comment">// 主文件</span></span><br><span class="line"><span class="comment">// 从其他文件引入命名空间</span></span><br><span class="line"><span class="keyword">import</span> &#123; D &#125; <span class="keyword">from</span> <span class="string">&quot;./namespaceTest&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(D.<span class="property">d</span>);    </span><br></pre></td></tr></table></figure>

<h4 id="3-三斜杠语法"><a href="#3-三斜杠语法" class="headerlink" title="3.三斜杠语法"></a>3.三斜杠语法</h4><p>三斜线指令是包含单个<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=XML&spm=1001.2101.3001.7020">XML</a>标签的单行注释。 注释的内容会做为编译器指令使用。</p>
<p>如果一个命名空间在一个单独的 TypeScript 文件中，则最应使用三斜杠 &#x2F;&#x2F;&#x2F; 引用它，语法格式如下：</p>
<p><code>/// &lt;reference path = &quot;xxx.ts&quot; /&gt;</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// namespaceTest2.ts</span></span><br><span class="line"><span class="keyword">namespace</span>  <span class="title class_">User</span>&#123; </span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">IName</span> &#123; </span><br><span class="line">      <span class="attr">uname</span>: <span class="built_in">string</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">IName</span> &#123;</span><br><span class="line">      <span class="attr">uname</span>: <span class="built_in">string</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference path = &quot;./namespaceTest2.ts&quot; /&gt; </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a</span>: <span class="title class_">User</span>.<span class="property">IName</span> = &#123;</span><br><span class="line">  <span class="attr">uname</span>:  <span class="string">&quot;万茜&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a</span>: <span class="title class_">User</span>.<span class="property">UserInfo</span>.<span class="property">IName</span> = &#123;</span><br><span class="line">  <span class="attr">uname</span>:  <span class="string">&quot;万茜&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-声明合并"><a href="#4-声明合并" class="headerlink" title="4.声明合并"></a>4.声明合并</h4><ul>
<li><p>接口的合并</p>
<p>注意点: 1.如果名字一样会进行合并</p>
<p>​             2.如果里面出现了同名函数，则会转化为函数重载</p>
</li>
<li><p>命名空间合并</p>
<p>注意点: 1.与接口一样,若名称相同则会进行合并</p>
<p>​             2.同名的命名空间中不能出现同名的变量,方法等</p>
<p>​             3.命名空间还可以和同名的类&#x2F;函数&#x2F;枚举合并:</p>
<p>​			命名空间与类合并:    1.say会被放在 prototype上   2.类必须定义在命名空间的前面 </p>
<p>​			命名空间和函数合并: 函数必须定义在命名空间的前面</p>
<p>​		        命名空间和枚举合并：没有先后顺序的要求</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.接口</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// interface ITestInterface &#123;</span></span><br><span class="line"><span class="comment">//     name:string;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// interface ITestInterface &#123;</span></span><br><span class="line"><span class="comment">//     age:number;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// class Person implements ITestInterface&#123;</span></span><br><span class="line"><span class="comment">//     name:string = &quot;文咏珊&quot;;</span></span><br><span class="line"><span class="comment">//     age:number = 18;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITestInterface</span> &#123;</span><br><span class="line">  <span class="title function_">show</span>(<span class="attr">value</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITestInterface</span> &#123;</span><br><span class="line">  <span class="title function_">show</span>(<span class="attr">value</span>: <span class="built_in">string</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">func</span>: <span class="title class_">ITestInterface</span> = &#123;</span><br><span class="line">  <span class="title function_">show</span>(<span class="attr">value</span>: <span class="built_in">any</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value.<span class="property">length</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> value.<span class="title function_">toFixed</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(func.<span class="title function_">show</span>(<span class="string">&quot;世界上最遥远的距离就是,你是if而我是else, 似乎一直相伴但又永远相离&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(func.<span class="title function_">show</span>(<span class="string">&quot;世界上最痴心的等待,是我当case而你当switch,或许永远都选不上自己&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(func.<span class="title function_">show</span>(<span class="string">&quot;世界上最真情的相依,是你在try我在catch。无论你发神马脾气,我都默默承受,静静处理。到那时,再来期待我们的finally&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(func.<span class="title function_">show</span>(<span class="number">3.14</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名空间与类合并</span></span><br><span class="line"><span class="comment">// 注意点: 1.say会被放在 prototype上</span></span><br><span class="line"><span class="comment">//        2.命名空间只能放在与之合并的类之后 </span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class Person &#123;</span></span><br><span class="line"><span class="comment">    say():void&#123;</span></span><br><span class="line"><span class="comment">        console.log(&quot;say 孙怡&quot;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">namespace Person&#123;</span></span><br><span class="line"><span class="comment">    export const hi = ():void=&gt;&#123;</span></span><br><span class="line"><span class="comment">        console.log(&#x27;hi 孙怡&#x27;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">console.dir(Person);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名空间和函数合并</span></span><br><span class="line"><span class="comment">// 注意点: 函数必须定义在命名空间的前面</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">function getCounter() &#123;</span></span><br><span class="line"><span class="comment">    getCounter.count++;</span></span><br><span class="line"><span class="comment">    console.log(getCounter.count);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">namespace getCounter&#123;</span></span><br><span class="line"><span class="comment">    export let count:number = 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">getCounter()</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名空间和枚举合并</span></span><br><span class="line"><span class="comment">// 注意点: 没有先后顺序的要求</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span> &#123;</span><br><span class="line">    <span class="title class_">Male</span>,</span><br><span class="line">    <span class="title class_">Female</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">Gender</span>&#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Yao</span>:<span class="built_in">number</span> = <span class="number">666</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Gender</span>);</span><br></pre></td></tr></table></figure>



<h2 id="第十三章-配置类相关内容"><a href="#第十三章-配置类相关内容" class="headerlink" title="第十三章 配置类相关内容"></a>第十三章 配置类相关内容</h2><h4 id="1-ts-tsconfig-json文件"><a href="#1-ts-tsconfig-json文件" class="headerlink" title="1.ts.tsconfig.json文件"></a>1.ts.tsconfig.json文件</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">/* Visit https://aka.ms/tsconfig to read more about this file */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Projects */</span></span><br><span class="line">    <span class="comment">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span></span><br><span class="line">    <span class="comment">// &quot;incremental&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 启用允许TypeScript项目与项目引用一起使用的约束</span></span><br><span class="line">    <span class="comment">// &quot;composite&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 增量编译文件的存储位置</span></span><br><span class="line">    <span class="comment">// &quot;tsBuildInfoFile&quot;: &quot;./.tsbuildinfo&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在引用组合项目时，禁用首选源文件而不是声明文件。</span></span><br><span class="line">    <span class="comment">// &quot;disableSourceOfProjectReferenceRedirect&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编辑时从多项目引用检查中选择一个项目。</span></span><br><span class="line">    <span class="comment">// &quot;disableSolutionSearching&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 减少TypeScript自动加载的项目数。</span></span><br><span class="line">    <span class="comment">// &quot;disableReferencedProjectLoad&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Language and Environment */</span></span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;es2016&quot;</span>,</span><br><span class="line">    <span class="comment">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，</span></span><br><span class="line">    <span class="comment">//通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span></span><br><span class="line">    <span class="comment">// &quot;lib&quot;: [],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定生成的JSX代码。</span></span><br><span class="line">    <span class="string">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 启用对TC39第2阶段草稿装饰器的实验支持。</span></span><br><span class="line">    <span class="comment">// &quot;experimentalDecorators&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为源文件中的修饰声明发出设计类型元数据。</span></span><br><span class="line">    <span class="comment">// &quot;emitDecoratorMetadata&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定针对React JSX emit时使用的JSX工厂函数，例如“React”。createElement”或“h”。</span></span><br><span class="line">    <span class="comment">// &quot;jsxFactory&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定针对React JSX emit（例如“React”）时用于片段的JSX片段引用。“片段”或“片段”。</span></span><br><span class="line">    <span class="comment">// &quot;jsxFragmentFactory&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定使用“JSX:react JSX*”时用于导入JSX工厂函数的模块说明符。</span></span><br><span class="line">    <span class="comment">// &quot;jsxImportSource&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定为“createElement”调用的对象。这仅适用于针对“react”JSX emit的情况。</span></span><br><span class="line">    <span class="comment">// &quot;reactNamespace&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用包含任何库文件，包括默认库。d、 ts。</span></span><br><span class="line">    <span class="comment">// &quot;noLib&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发出符合ECMAScript标准的类字段。</span></span><br><span class="line">    <span class="comment">// &quot;useDefineForClassFields&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制用于检测模块格式JS文件的方法。</span></span><br><span class="line">    <span class="comment">// &quot;moduleDetection&quot;: &quot;auto&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Modules */</span></span><br><span class="line">    <span class="comment">// 生成代码的模板标准,可选es6模式 amd  umd 等</span></span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span></span><br><span class="line">    <span class="comment">// &quot;rootDir&quot;: &quot;./&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span></span><br><span class="line">    <span class="comment">// &quot;moduleResolution&quot;: &quot;node&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 解析非相对模块的基地址，默认是当前目录</span></span><br><span class="line">    <span class="comment">// &quot;baseUrl&quot;: &quot;./&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 路径映射，相对于baseUrl</span></span><br><span class="line">    <span class="comment">// &quot;paths&quot;: &#123;&#125;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span></span><br><span class="line">    <span class="comment">// &quot;rootDirs&quot;: [],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明文件目录，默认时node_modules/@types</span></span><br><span class="line">    <span class="comment">// &quot;typeRoots&quot;: [],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 加载的声明文件包</span></span><br><span class="line">    <span class="comment">// &quot;types&quot;: [],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 允许在模块中全局变量的方式访问umd模块</span></span><br><span class="line">    <span class="comment">// &quot;allowUmdGlobalAccess&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 解析模块时要搜索的文件名后缀列表。</span></span><br><span class="line">    <span class="comment">// &quot;moduleSuffixes&quot;: [],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 启用导入。json文件。</span></span><br><span class="line">    <span class="comment">// &quot;resolveJsonModule&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不允许“import”、“require”或“reference”扩展TypeScript应添加到项目中的文件数。</span></span><br><span class="line">    <span class="comment">// &quot;noResolve&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* JavaScript Support */</span></span><br><span class="line">    <span class="comment">// 允许编译器编译JS，JSX文件</span></span><br><span class="line">    <span class="comment">// &quot;allowJs&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 允许在JS文件中报错，通常与allowJS一起使用</span></span><br><span class="line">    <span class="comment">// &quot;checkJs&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定用于检查“node\u modules”中的JavaScript文件的最大文件夹深度。仅适用于“allowJs”。</span></span><br><span class="line">    <span class="comment">// &quot;maxNodeModuleJsDepth&quot;: 1,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Emit */</span></span><br><span class="line">    <span class="comment">// 生成声明文件，开启后会自动生成声明文件</span></span><br><span class="line">    <span class="comment">// &quot;declaration&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为声明文件生成sourceMap</span></span><br><span class="line">    <span class="comment">// &quot;declarationMap&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 只生成声明文件，而不会生成js文件</span></span><br><span class="line">    <span class="comment">// &quot;emitDeclarationOnly&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成目标文件的sourceMap文件</span></span><br><span class="line">    <span class="comment">// &quot;sourceMap&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span></span><br><span class="line">    <span class="comment">// &quot;outFile&quot;: &quot;./&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定输出目录</span></span><br><span class="line">    <span class="comment">// &quot;outDir&quot;: &quot;./&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除注释</span></span><br><span class="line">    <span class="comment">// &quot;removeComments&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不输出文件,即编译后不会生成任何js文件</span></span><br><span class="line">    <span class="comment">// &quot;noEmit&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过tslib引入helper函数，文件必须是模块</span></span><br><span class="line">    <span class="comment">// &quot;importHelpers&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为仅用于类型的导入指定发射/检查行为。</span></span><br><span class="line">    <span class="comment">// &quot;importsNotUsedAsValues&quot;: &quot;remove&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为迭代发出更符合要求、但冗长且性能较差的JavaScript。</span></span><br><span class="line">    <span class="comment">// &quot;downlevelIteration&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定调试器查找参考源代码的根路径。</span></span><br><span class="line">    <span class="comment">// &quot;sourceRoot&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定调试器应该定位映射文件的位置，而不是生成的位置。</span></span><br><span class="line">    <span class="comment">// &quot;mapRoot&quot;: &quot;&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span></span><br><span class="line">    <span class="comment">// &quot;inlineSourceMap&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在发出的JavaScript内的sourcemaps中包含源代码。</span></span><br><span class="line">    <span class="comment">// &quot;inlineSources&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在输出文件的开头发出UTF-8字节顺序标记（BOM）。</span></span><br><span class="line">    <span class="comment">// &quot;emitBOM&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置用于发射文件的换行符。</span></span><br><span class="line">    <span class="comment">// &quot;newLine&quot;: &quot;crlf&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用在JSDoc注释中包含“@internal”的声明。</span></span><br><span class="line">    <span class="comment">// &quot;stripInternal&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Disable generating custom helper functions like &#x27;__extends&#x27; in compiled output. </span></span><br><span class="line">    <span class="comment">// &quot;noEmitHelpers&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果报告了任何类型检查错误，则禁用发送文件。</span></span><br><span class="line">    <span class="comment">// &quot;noEmitOnError&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用删除生成代码中的“const enum”声明。</span></span><br><span class="line">    <span class="comment">// &quot;preserveConstEnums&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定生成声明文件存放目录</span></span><br><span class="line">    <span class="comment">// &quot;declarationDir&quot;: &quot;./&quot;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在JavaScript输出中保留未使用的导入值，否则会被删除。</span></span><br><span class="line">    <span class="comment">// &quot;preserveValueImports&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Interop Constraints */</span></span><br><span class="line">    <span class="comment">// &quot;isolatedModules&quot;: true,</span></span><br><span class="line">    <span class="comment">// &quot;allowSyntheticDefaultImports&quot;: true,</span></span><br><span class="line">    <span class="string">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// &quot;preserveSymlinks&quot;: true,</span></span><br><span class="line">    <span class="string">&quot;forceConsistentCasingInFileNames&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Type Checking */</span></span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 确保每个文件都可以安全传输，而不依赖于其他导入。</span></span><br><span class="line">    <span class="comment">// &quot;noImplicitAny&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不允许把null、undefined赋值给其他类型的变量</span></span><br><span class="line">    <span class="comment">// &quot;strictNullChecks&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不允许函数参数双向协变</span></span><br><span class="line">    <span class="comment">// &quot;strictFunctionTypes&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 严格的bind/call/apply检查</span></span><br><span class="line">    <span class="comment">// &quot;strictBindCallApply&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类的实例属性必须初始化</span></span><br><span class="line">    <span class="comment">// &quot;strictPropertyInitialization&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不允许this有隐式的any类型</span></span><br><span class="line">    <span class="comment">// &quot;noImplicitThis&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 默认catch子句变量为“unknown”而不是“any”。</span></span><br><span class="line">    <span class="comment">// &quot;useUnknownInCatchVariables&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在代码中注入&#x27;use strict</span></span><br><span class="line">    <span class="comment">// &quot;alwaysStrict&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查只声明、未使用的局部变量(只提示不报错)</span></span><br><span class="line">    <span class="comment">// &quot;noUnusedLocals&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查未使用的函数参数(只提示不报错)</span></span><br><span class="line">    <span class="comment">// &quot;noUnusedParameters&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将可选属性类型解释为编写的，而不是添加“undefined”。</span></span><br><span class="line">    <span class="comment">// &quot;exactOptionalPropertyTypes&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  每个分支都会有返回值</span></span><br><span class="line">    <span class="comment">// &quot;noImplicitReturns&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span></span><br><span class="line">    <span class="comment">// &quot;noFallthroughCasesInSwitch&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用索引访问时，将“undefined”添加到类型。</span></span><br><span class="line">    <span class="comment">// &quot;noUncheckedIndexedAccess&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对使用索引类型声明的键强制使用索引访问器。</span></span><br><span class="line">    <span class="comment">// &quot;noPropertyAccessFromIndexSignature&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用未使用标签的错误报告。</span></span><br><span class="line">    <span class="comment">// &quot;allowUnusedLabels&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用无法访问代码的错误报告</span></span><br><span class="line">    <span class="comment">// &quot;allowUnreachableCode&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Completeness */</span></span><br><span class="line">    <span class="comment">// 跳过类型检查。d、 TypeScript中包含的ts文件。</span></span><br><span class="line">    <span class="comment">// &quot;skipDefaultLibCheck&quot;: true,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 跳过类型检查全部。d、 ts文件。</span></span><br><span class="line">    <span class="string">&quot;skipLibCheck&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-使用rollup打包TS文件"><a href="#2-使用rollup打包TS文件" class="headerlink" title="2.使用rollup打包TS文件"></a>2.使用rollup打包TS文件</h4><p>安装依赖：</p>
<ul>
<li>全局安装rollup <strong>npm install rollup-g</strong></li>
<li>安装TypeScript   <strong>npm install typescript -D</strong></li>
<li>安装TypeScript 转换器 <strong>npm install rollup-plugin-typescript2 -D</strong></li>
<li>安装代码压缩插件 <strong>npm install rollup-plugin-terser -D</strong></li>
<li>安装rollupweb服务 <strong>npm install rollup-plugin-serve -D</strong></li>
<li>安装热更新 <strong>npm install rollup-plugin-livereload -D</strong></li>
<li>安装配置环境变量用来区分本地和生产  <strong>npm install cross-env -D</strong></li>
</ul>
<p>步骤：</p>
<p>​	1.安装依赖</p>
<p>​	2.npm init -y 创建配置package.json文件</p>
<p>​        3.创建 src    public   rollup.config.js文件</p>
<p>​        4.配置  rollup.config.js</p>
<p>package.json文件：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rollupTs&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=production rollup -c&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=development rollup -c&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;cross-env&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.0.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-livereload&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-node-resolve&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-replace&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-serve&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-terser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rollup-plugin-typescript2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.31.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.5.5&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>rollup.config.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span></span><br><span class="line"><span class="keyword">import</span> livereload <span class="keyword">from</span> <span class="string">&quot;rollup-plugin-livereload&quot;</span></span><br><span class="line"><span class="keyword">import</span> serve <span class="keyword">from</span> <span class="string">&quot;rollup-plugin-serve&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; terser &#125; <span class="keyword">from</span> <span class="string">&quot;rollup-plugin-terser&quot;</span></span><br><span class="line"><span class="keyword">import</span> ts <span class="keyword">from</span> <span class="string">&quot;rollup-plugin-typescript2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">input</span>: <span class="string">&quot;./src/index.ts&quot;</span>, </span><br><span class="line"></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">file</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./dist/index.js&quot;</span>),</span><br><span class="line">    <span class="attr">sourcemap</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">format</span>: <span class="string">&quot;umd&quot;</span>, </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">ts</span>(),</span><br><span class="line">    <span class="title function_">livereload</span>(),</span><br><span class="line">    <span class="title function_">terser</span>(),</span><br><span class="line">    <span class="title function_">serve</span>(&#123;</span><br><span class="line">      <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">      <span class="attr">openPage</span>: <span class="string">&quot;/public/index.html&quot;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    </span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(process.<span class="property">env</span>);</span><br></pre></td></tr></table></figure>

<h4 id="3-使用webpack打包TS文件"><a href="#3-使用webpack打包TS文件" class="headerlink" title="3.使用webpack打包TS文件"></a>3.使用webpack打包TS文件</h4><p>安装依赖：</p>
<ul>
<li>安装webpack环境 <strong>npm i webpack webpack-cli webpack-dev-server -D</strong></li>
<li>安装TypeScript   <strong>npm install typescript -D</strong></li>
<li>编译TS <strong>npm install ts-loader -D</strong></li>
<li>热更新服务 <strong>npm install  webpack-dev-server -D</strong></li>
<li>HTML模板 <strong>npm install html-webpack-plugin -D</strong></li>
</ul>
<p>步骤：</p>
<p>​	1.安装依赖</p>
<p>​	2.npm init -y 创建配置package.json文件</p>
<p>​	3.创建初始文件夹</p>
<p>​	4.进行配置</p>
<p>package.json文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpackProject&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack serve --open&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;html-webpack-plugin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.5.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ts-loader&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^9.3.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.7.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.73.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.10.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack-dev-server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.9.3&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>webpack.config.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/index.ts&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;index.js&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.ts$/</span>, <span class="attr">use</span>: <span class="string">&#x27;ts-loader&#x27;</span>, <span class="attr">exclude</span>:<span class="regexp">/node_modules/</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&quot;.ts&quot;</span>, <span class="string">&quot;.js&quot;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title function_">htmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&quot;./public/index.html&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-TS描述文件声明"><a href="#4-TS描述文件声明" class="headerlink" title="4.TS描述文件声明"></a>4.TS描述文件声明</h4><p>TypeScript 作为 JavaScript 的超集，在开发过程中不可避免要引用其他第三方的 JavaScript 的库。虽然通过直接引用可以调用库的类和方法，但是却无法使用TypeScript 诸如类型检查等特性功能。为了解决这个问题，需要将这些库里的函数和方法体去掉后只保留导出类型声明，而产生了一个描述 JavaScript 库和模块信息的声明文件。通过引用这个声明文件，就可以借用 TypeScript 的各种特性来使用库文件了。</p>
<p>假如我们想使用第三方库，比如 jQuery等等</p>
<p>声明文件以 <strong>.d.ts</strong> 为后缀 如：<code>hello.d.ts</code></p>
<p>声明文件或模块的语法格式如下：<code>declare module Module_Name &#123; &#125;</code></p>
<p><strong>很多流行的第三方库的声明文件不需要我们定义了</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types</a></li>
<li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/dt/search?search=">https://www.typescriptlang.org/dt/search?search=</a></li>
</ul>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2024/09/08/2024/09/08/TypeScript/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo_blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo_blog/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/hexo_blog/2024/09/08/2024/09/08/%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E5%BA%93%E6%95%B4%E7%90%86/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            前端常用库整理
          
        </div>
      </a>
    
    
      <a href="/hexo_blog/2024/09/08/2024/09/08/git%E7%AC%94%E8%AE%B0/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">git笔记</div>
      </a>
    
  </nav>

  
   
  
   
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2024
        <i class="ri-heart-fill heart_icon"></i> Sun Chao Qun
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/hexo_blog/"><img src="/hexo_blog/images/ayer-side.svg" alt="个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/tags/%E6%97%85%E8%A1%8C/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/hexo_blog/2024/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/hexo_blog/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/hexo_blog/images/alipay.png">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/hexo_blog/images/wechat.png">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/hexo_blog/js/jquery-3.6.0.min.js"></script>
 
<script src="/hexo_blog/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/hexo_blog/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/hexo_blog/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/hexo_blog/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/hexo_blog/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>